<!DOCTYPE html>
<!--
	Dopetrope by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>颜色转换工具 - 云云的工具箱</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="免费在线颜色转换工具，支持HEX、RGB、HSL、CMYK等颜色格式互转，颜色选择器，调色板生成" />
    <meta name="keywords" content="颜色转换,HEX转RGB,RGB转HEX,HSL,CMYK,颜色选择器,调色板,在线工具" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <style>
        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .color-picker-panel {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .panel-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            text-align: center;
        }
        
        .panel-header h3 {
            margin: 0;
            color: #007acc;
        }
        
        .panel-content {
            padding: 20px;
        }
        
        .color-display {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .color-preview {
            width: 200px;
            height: 200px;
            border: 2px solid #ddd;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .color-preview-main {
            width: 100%;
            height: 150px;
            background: #ff0000;
            transition: background 0.3s ease;
        }
        
        .color-preview-info {
            height: 50px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #333;
            border-top: 1px solid #ddd;
        }
        
        .color-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .input-group {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
        }
        
        .input-group h4 {
            margin: 0 0 15px 0;
            color: #007acc;
            font-size: 1.1em;
        }
        
        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .input-row:last-child {
            margin-bottom: 0;
        }
        
        .input-row label {
            min-width: 40px;
            font-weight: bold;
            color: #333;
        }
        
        .input-row input {
            flex: 1;
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .input-row input:focus {
            outline: none;
            border-color: #007acc;
            box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2);
        }
        
        .color-picker-input {
            width: 50px !important;
            height: 35px !important;
            padding: 0 !important;
            border: none !important;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .slider-container label {
            min-width: 40px;
            font-weight: bold;
            color: #333;
        }
        
        .slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #007acc;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #007acc;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .slider-value {
            min-width: 50px;
            text-align: right;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #666;
        }
        
        .palette-section {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        
        .palette-color {
            width: 80px;
            height: 80px;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            display: flex;
            align-items: end;
            justify-content: center;
            overflow: hidden;
        }
        
        .palette-color:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .palette-color-label {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 2px 6px;
            font-size: 10px;
            font-family: 'Courier New', monospace;
            border-radius: 3px 3px 0 0;
            margin-bottom: 2px;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #007acc;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #545b62;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #1e7e34;
        }
        
        .conversion-history {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .history-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .history-item:hover {
            background: #e9ecef;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .history-color {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .history-info {
            flex: 1;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #666;
        }
        
        .guide-section {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .guide-section h3 {
            color: #007acc;
            margin-bottom: 15px;
        }
        
        .format-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .format-example {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
        }
        
        .format-name {
            font-weight: bold;
            color: #007acc;
            margin-bottom: 8px;
        }
        
        .format-desc {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
        }
        
        .format-sample {
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            background: #e9ecef;
            padding: 5px 8px;
            border-radius: 3px;
            color: #333;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .info-card {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            text-align: center;
        }
        
        .info-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #007acc;
            margin-bottom: 5px;
        }
        
        .info-label {
            font-size: 0.9em;
            color: #666;
        }
        
        .faq-item {
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .faq-question {
            background: #f8f9fa;
            padding: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #e9ecef;
        }
        
        .faq-answer {
            padding: 15px;
            display: none;
            border-top: 1px solid #e0e0e0;
        }
        
        .faq-answer.active {
            display: block;
        }
        
        .error {
            color: #dc3545;
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .success {
            color: #155724;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .color-display {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .color-preview {
                width: 100%;
                max-width: 300px;
                margin: 0 auto;
            }
            
            .color-inputs {
                grid-template-columns: 1fr;
            }
            
            .palette-grid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            }
            
            .palette-color {
                width: 60px;
                height: 60px;
            }
        }
    </style>
</head>
<body class="is-preload">
    <div id="page-wrapper">
        <!-- Header -->
        <section id="header">
            <h1><a href="../index.html">云云的工具箱</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="../index.html">首页</a></li>
                    <li>
                        <a href="#">工具分类</a>
                        <ul>
                            <li><a href="图片压缩工具.html">图片压缩</a></li>
                            <li><a href="文本处理工具.html">文本处理</a></li>
                            <li><a href="格式转换工具.html">格式转换</a></li>
                            <li>
                                <a href="#">更多工具</a>
                                <ul>
                                    <li><a href="音频处理工具.html">音频处理</a></li>
                                    <li><a href="视频处理工具.html">视频处理</a></li>
                                    <li><a href="pdf工具集.html">PDF工具</a></li>
                                    <li><a href="图片转Base64工具.html">图片转Base64</a></li>
                                    <li><a href="信息编码转换工具.html">信息编码转换</a></li>
                                    <li><a href="时间戳转换工具.html">时间戳转换</a></li>
                                    <li class="current"><a href="颜色转换工具.html">颜色转换</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="../left-sidebar.html">使用说明</a></li>
                    <li><a href="../right-sidebar.html">关于我们</a></li>
                     <li><a href="../no-sidebar.html">联系我们</a></li>
                </ul>
            </nav>
        </section>

        <!-- Main -->
        <section id="main">
            <div class="container">
                <div class="tool-container">
                    <!-- 工具标题和介绍 -->
                    <header class="major">
                        <h1>颜色转换工具</h1>
                        <p>支持HEX、RGB、HSL、CMYK等颜色格式互转，颜色选择器，调色板生成</p>
                    </header>
                    
                    <!-- 颜色选择器面板 -->
                    <div class="color-picker-panel">
                        <div class="panel-header">
                            <h3>🎨 颜色选择器与转换</h3>
                        </div>
                        
                        <div class="panel-content">
                            <div class="color-display">
                                <div class="color-preview">
                                    <div class="color-preview-main" id="colorPreview"></div>
                                    <div class="color-preview-info" id="colorInfo">#FF0000</div>
                                </div>
                                
                                <div class="color-inputs">
                                    <!-- HEX输入 -->
                                    <div class="input-group">
                                        <h4>🔢 HEX颜色</h4>
                                        <div class="input-row">
                                            <label>HEX:</label>
                                            <input type="text" id="hexInput" value="#FF0000" placeholder="#FF0000" />
                                            <input type="color" id="colorPicker" class="color-picker-input" value="#FF0000" />
                                        </div>
                                    </div>
                                    
                                    <!-- RGB输入 -->
                                    <div class="input-group">
                                        <h4>🔴 RGB颜色</h4>
                                        <div class="input-row">
                                            <label>R:</label>
                                            <input type="number" id="rgbR" min="0" max="255" value="255" />
                                        </div>
                                        <div class="input-row">
                                            <label>G:</label>
                                            <input type="number" id="rgbG" min="0" max="255" value="0" />
                                        </div>
                                        <div class="input-row">
                                            <label>B:</label>
                                            <input type="number" id="rgbB" min="0" max="255" value="0" />
                                        </div>
                                    </div>
                                    
                                    <!-- HSL输入 -->
                                    <div class="input-group">
                                        <h4>🌈 HSL颜色</h4>
                                        <div class="slider-container">
                                            <label>H:</label>
                                            <input type="range" id="hslH" class="slider" min="0" max="360" value="0" style="background: linear-gradient(to right, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);" />
                                            <span class="slider-value" id="hslHValue">0°</span>
                                        </div>
                                        <div class="slider-container">
                                            <label>S:</label>
                                            <input type="range" id="hslS" class="slider" min="0" max="100" value="100" style="background: linear-gradient(to right, #808080, #ff0000);" />
                                            <span class="slider-value" id="hslSValue">100%</span>
                                        </div>
                                        <div class="slider-container">
                                            <label>L:</label>
                                            <input type="range" id="hslL" class="slider" min="0" max="100" value="50" style="background: linear-gradient(to right, #000000, #ff0000, #ffffff);" />
                                            <span class="slider-value" id="hslLValue">50%</span>
                                        </div>
                                    </div>
                                    
                                    <!-- CMYK输入 -->
                                    <div class="input-group">
                                        <h4>🖨️ CMYK颜色</h4>
                                        <div class="input-row">
                                            <label>C:</label>
                                            <input type="number" id="cmykC" min="0" max="100" value="0" />
                                            <span style="font-size: 12px; color: #666;">%</span>
                                        </div>
                                        <div class="input-row">
                                            <label>M:</label>
                                            <input type="number" id="cmykM" min="0" max="100" value="100" />
                                            <span style="font-size: 12px; color: #666;">%</span>
                                        </div>
                                        <div class="input-row">
                                            <label>Y:</label>
                                            <input type="number" id="cmykY" min="0" max="100" value="100" />
                                            <span style="font-size: 12px; color: #666;">%</span>
                                        </div>
                                        <div class="input-row">
                                            <label>K:</label>
                                            <input type="number" id="cmykK" min="0" max="100" value="0" />
                                            <span style="font-size: 12px; color: #666;">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="copyHex()">📋 复制HEX</button>
                                <button class="btn btn-primary" onclick="copyRgb()">📋 复制RGB</button>
                                <button class="btn btn-primary" onclick="copyHsl()">📋 复制HSL</button>
                                <button class="btn btn-secondary" onclick="randomColor()">🎲 随机颜色</button>
                                <button class="btn btn-secondary" onclick="addToHistory()">💾 保存到历史</button>
                                <button class="btn btn-secondary" onclick="clearHistory()">🗑️ 清空历史</button>
                            </div>
                            
                            <!-- 转换历史 -->
                            <div class="conversion-history">
                                <h4>📚 转换历史</h4>
                                <div id="colorHistory">暂无历史记录</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 调色板 -->
                    <div class="palette-section">
                        <h3>🎨 常用调色板</h3>
                        <div class="action-buttons">
                            <button class="btn btn-primary" onclick="generatePalette('complementary')">🔄 互补色</button>
                            <button class="btn btn-primary" onclick="generatePalette('triadic')">🔺 三角色</button>
                            <button class="btn btn-primary" onclick="generatePalette('analogous')">📐 类似色</button>
                            <button class="btn btn-primary" onclick="generatePalette('monochromatic')">🎭 单色系</button>
                            <button class="btn btn-secondary" onclick="generatePalette('material')">🎨 Material</button>
                            <button class="btn btn-secondary" onclick="generatePalette('web')">🌐 Web安全色</button>
                        </div>
                        <div class="palette-grid" id="paletteGrid"></div>
                    </div>
                    
                    <!-- 使用指南 -->
                    <div class="guide-section">
                        <h3>📖 使用指南</h3>
                        <ol>
                            <li><strong>颜色选择：</strong>使用颜色选择器或直接输入颜色值来选择颜色</li>
                            <li><strong>格式转换：</strong>修改任意格式的颜色值，其他格式会自动同步更新</li>
                            <li><strong>复制颜色：</strong>点击复制按钮将颜色值复制到剪贴板</li>
                            <li><strong>调色板：</strong>生成基于当前颜色的配色方案</li>
                            <li><strong>历史记录：</strong>保存常用颜色到历史记录，方便重复使用</li>
                        </ol>
                    </div>
                    
                    <!-- 颜色格式说明 -->
                    <div class="guide-section">
                        <h3>🔧 支持的颜色格式</h3>
                        <div class="format-examples">
                            <div class="format-example">
                                <div class="format-name">HEX颜色</div>
                                <div class="format-desc">十六进制颜色代码，网页设计最常用</div>
                                <div class="format-sample">#FF0000, #43AD7F</div>
                            </div>
                            <div class="format-example">
                                <div class="format-name">RGB颜色</div>
                                <div class="format-desc">红绿蓝三原色值，范围0-255</div>
                                <div class="format-sample">rgb(255, 0, 0)</div>
                            </div>
                            <div class="format-example">
                                <div class="format-name">HSL颜色</div>
                                <div class="format-desc">色相、饱和度、亮度，更直观的颜色表示</div>
                                <div class="format-sample">hsl(0, 100%, 50%)</div>
                            </div>
                            <div class="format-example">
                                <div class="format-name">CMYK颜色</div>
                                <div class="format-desc">印刷四色模式，用于印刷设计</div>
                                <div class="format-sample">cmyk(0, 100, 100, 0)</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 工具详细介绍 -->
                    <div class="guide-section">
                        <h3>🔧 工具详细介绍</h3>
                        <p>颜色转换工具是一款专业的颜色格式转换和调色工具，支持多种颜色格式之间的精确转换。无论您是网页设计师、UI设计师还是印刷设计师，都能通过这个工具轻松处理各种颜色转换和配色需求。</p>
                        
                        <h4>🎯 核心功能</h4>
                        <ul>
                            <li><strong>多格式支持：</strong>支持HEX、RGB、HSL、CMYK等主流颜色格式</li>
                            <li><strong>实时转换：</strong>修改任意格式，其他格式自动同步更新</li>
                            <li><strong>颜色选择器：</strong>直观的颜色选择界面，支持滑块调节</li>
                            <li><strong>调色板生成：</strong>基于色彩理论生成配色方案</li>
                            <li><strong>历史记录：</strong>保存和管理常用颜色</li>
                            <li><strong>一键复制：</strong>快速复制各种格式的颜色值</li>
                        </ul>
                        
                        <h4>🌟 应用场景</h4>
                        <ul>
                            <li><strong>网页设计：</strong>CSS颜色值转换，主题色彩搭配</li>
                            <li><strong>UI设计：</strong>界面配色方案设计，品牌色彩管理</li>
                            <li><strong>印刷设计：</strong>RGB到CMYK转换，印刷色彩预览</li>
                            <li><strong>品牌设计：</strong>品牌色彩标准化，色彩规范制定</li>
                            <li><strong>开发调试：</strong>颜色值调试，主题色彩测试</li>
                        </ul>
                    </div>
                    
                    <!-- 工具优势 -->
                    <div class="guide-section">
                        <h3>⭐ 为什么选择我们的工具</h3>
                        <div class="info-grid">
                            <div class="info-card">
                                <div class="info-value">🎨</div>
                                <div class="info-label"><strong>专业精确</strong><br>精确的颜色转换算法</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">⚡</div>
                                <div class="info-label"><strong>实时同步</strong><br>所有格式实时更新</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">🎯</div>
                                <div class="info-label"><strong>直观易用</strong><br>可视化颜色选择器</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">🌈</div>
                                <div class="info-label"><strong>丰富调色板</strong><br>多种配色方案生成</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">📱</div>
                                <div class="info-label"><strong>响应式设计</strong><br>完美适配各种设备</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">🆓</div>
                                <div class="info-label"><strong>完全免费</strong><br>无限制使用，无需注册</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 常见问题 -->
                    <div class="guide-section">
                        <h3>❓ 常见问题解答</h3>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">HEX和RGB颜色有什么区别？</div>
                            <div class="faq-answer">
                                HEX是十六进制表示法，用6位字符表示颜色（如#FF0000）。RGB是十进制表示法，分别表示红、绿、蓝三个分量的数值（如rgb(255,0,0)）。两者本质相同，只是表示方式不同。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">什么是HSL颜色模式？</div>
                            <div class="faq-answer">
                                HSL代表色相(Hue)、饱和度(Saturation)、亮度(Lightness)。这种表示方式更符合人类对颜色的直观理解，便于调整颜色的明暗和鲜艳程度。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">CMYK适用于什么场景？</div>
                            <div class="faq-answer">
                                CMYK是印刷行业的标准颜色模式，代表青色(Cyan)、品红(Magenta)、黄色(Yellow)、黑色(Key)。如果您的设计需要印刷，建议使用CMYK模式以确保颜色准确性。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">如何选择合适的配色方案？</div>
                            <div class="faq-answer">
                                可以使用我们提供的调色板功能：互补色适合强烈对比，类似色适合和谐统一，三角色适合活泼平衡，单色系适合简洁优雅。根据设计需求选择合适的配色理论。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">为什么RGB转CMYK后颜色有差异？</div>
                            <div class="faq-answer">
                                RGB是光学三原色（加色模式），CMYK是印刷四色（减色模式）。两种模式的色域不完全重合，某些鲜艳的RGB颜色无法在CMYK中完全再现，这是正常现象。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">如何保存和管理常用颜色？</div>
                            <div class="faq-answer">
                                使用"保存到历史"功能可以将当前颜色添加到历史记录中。历史记录会保存在浏览器本地，方便您随时调用常用的颜色。点击历史记录中的颜色可以快速应用。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <section id="footer">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div id="copyright">
                            <ul class="links">
                                <li>&copy; 2025 颜色转换工具 - 专业的颜色格式转换平台</li>
                                <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    
    <script>
        // 全局变量
        let colorHistory = [];
        let currentColor = { r: 255, g: 0, b: 0 };
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            loadColorHistory();
            updateAllFormats();
            generatePalette('material');
        });
        
        // 初始化事件监听器
        function initializeEventListeners() {
            // HEX输入
            document.getElementById('hexInput').addEventListener('input', function() {
                const hex = this.value;
                if (isValidHex(hex)) {
                    const rgb = hexToRgb(hex);
                    if (rgb) {
                        currentColor = rgb;
                        updateAllFormats();
                    }
                }
            });
            
            // 颜色选择器
            document.getElementById('colorPicker').addEventListener('input', function() {
                const hex = this.value;
                const rgb = hexToRgb(hex);
                if (rgb) {
                    currentColor = rgb;
                    updateAllFormats();
                }
            });
            
            // RGB输入
            ['rgbR', 'rgbG', 'rgbB'].forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    updateFromRgb();
                });
            });
            
            // HSL滑块
            ['hslH', 'hslS', 'hslL'].forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    updateFromHsl();
                });
            });
            
            // CMYK输入
            ['cmykC', 'cmykM', 'cmykY', 'cmykK'].forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    updateFromCmyk();
                });
            });
        }
        
        // 更新所有格式
        function updateAllFormats() {
            updateHexDisplay();
            updateRgbDisplay();
            updateHslDisplay();
            updateCmykDisplay();
            updateColorPreview();
        }
        
        // 更新HEX显示
        function updateHexDisplay() {
            const hex = rgbToHex(currentColor.r, currentColor.g, currentColor.b);
            document.getElementById('hexInput').value = hex;
            document.getElementById('colorPicker').value = hex;
        }
        
        // 更新RGB显示
        function updateRgbDisplay() {
            document.getElementById('rgbR').value = currentColor.r;
            document.getElementById('rgbG').value = currentColor.g;
            document.getElementById('rgbB').value = currentColor.b;
        }
        
        // 更新HSL显示
        function updateHslDisplay() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            document.getElementById('hslH').value = Math.round(hsl.h);
            document.getElementById('hslS').value = Math.round(hsl.s);
            document.getElementById('hslL').value = Math.round(hsl.l);
            
            document.getElementById('hslHValue').textContent = Math.round(hsl.h) + '°';
            document.getElementById('hslSValue').textContent = Math.round(hsl.s) + '%';
            document.getElementById('hslLValue').textContent = Math.round(hsl.l) + '%';
        }
        
        // 更新CMYK显示
        function updateCmykDisplay() {
            const cmyk = rgbToCmyk(currentColor.r, currentColor.g, currentColor.b);
            document.getElementById('cmykC').value = Math.round(cmyk.c);
            document.getElementById('cmykM').value = Math.round(cmyk.m);
            document.getElementById('cmykY').value = Math.round(cmyk.y);
            document.getElementById('cmykK').value = Math.round(cmyk.k);
        }
        
        // 更新颜色预览
        function updateColorPreview() {
            const hex = rgbToHex(currentColor.r, currentColor.g, currentColor.b);
            const rgb = `rgb(${currentColor.r}, ${currentColor.g}, ${currentColor.b})`;
            
            document.getElementById('colorPreview').style.backgroundColor = hex;
            document.getElementById('colorInfo').textContent = hex;
        }
        
        // 从RGB输入更新
        function updateFromRgb() {
            const r = parseInt(document.getElementById('rgbR').value) || 0;
            const g = parseInt(document.getElementById('rgbG').value) || 0;
            const b = parseInt(document.getElementById('rgbB').value) || 0;
            
            currentColor = { r: Math.max(0, Math.min(255, r)), g: Math.max(0, Math.min(255, g)), b: Math.max(0, Math.min(255, b)) };
            updateHexDisplay();
            updateHslDisplay();
            updateCmykDisplay();
            updateColorPreview();
        }
        
        // 从HSL输入更新
        function updateFromHsl() {
            const h = parseInt(document.getElementById('hslH').value) || 0;
            const s = parseInt(document.getElementById('hslS').value) || 0;
            const l = parseInt(document.getElementById('hslL').value) || 0;
            
            document.getElementById('hslHValue').textContent = h + '°';
            document.getElementById('hslSValue').textContent = s + '%';
            document.getElementById('hslLValue').textContent = l + '%';
            
            const rgb = hslToRgb(h, s, l);
            currentColor = rgb;
            updateHexDisplay();
            updateRgbDisplay();
            updateCmykDisplay();
            updateColorPreview();
        }
        
        // 从CMYK输入更新
        function updateFromCmyk() {
            const c = parseInt(document.getElementById('cmykC').value) || 0;
            const m = parseInt(document.getElementById('cmykM').value) || 0;
            const y = parseInt(document.getElementById('cmykY').value) || 0;
            const k = parseInt(document.getElementById('cmykK').value) || 0;
            
            const rgb = cmykToRgb(c, m, y, k);
            currentColor = rgb;
            updateHexDisplay();
            updateRgbDisplay();
            updateHslDisplay();
            updateColorPreview();
        }
        
        // 颜色转换函数
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }
        
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }
        
        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return { h: h * 360, s: s * 100, l: l * 100 };
        }
        
        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;
            
            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };
            
            let r, g, b;
            
            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }
            
            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }
        
        function rgbToCmyk(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const k = 1 - Math.max(r, Math.max(g, b));
            const c = (1 - r - k) / (1 - k) || 0;
            const m = (1 - g - k) / (1 - k) || 0;
            const y = (1 - b - k) / (1 - k) || 0;
            
            return {
                c: c * 100,
                m: m * 100,
                y: y * 100,
                k: k * 100
            };
        }
        
        function cmykToRgb(c, m, y, k) {
            c /= 100;
            m /= 100;
            y /= 100;
            k /= 100;
            
            const r = 255 * (1 - c) * (1 - k);
            const g = 255 * (1 - m) * (1 - k);
            const b = 255 * (1 - y) * (1 - k);
            
            return {
                r: Math.round(r),
                g: Math.round(g),
                b: Math.round(b)
            };
        }
        
        // 验证HEX颜色
        function isValidHex(hex) {
            return /^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(hex);
        }
        
        // 复制功能
        async function copyHex() {
            const hex = document.getElementById('hexInput').value;
            await copyToClipboard(hex, 'HEX颜色值已复制！');
        }
        
        async function copyRgb() {
            const rgb = `rgb(${currentColor.r}, ${currentColor.g}, ${currentColor.b})`;
            await copyToClipboard(rgb, 'RGB颜色值已复制！');
        }
        
        async function copyHsl() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            const hslString = `hsl(${Math.round(hsl.h)}, ${Math.round(hsl.s)}%, ${Math.round(hsl.l)}%)`;
            await copyToClipboard(hslString, 'HSL颜色值已复制！');
        }
        
        // 随机颜色
        function randomColor() {
            currentColor = {
                r: Math.floor(Math.random() * 256),
                g: Math.floor(Math.random() * 256),
                b: Math.floor(Math.random() * 256)
            };
            updateAllFormats();
        }
        
        // 历史记录管理
        function addToHistory() {
            const hex = rgbToHex(currentColor.r, currentColor.g, currentColor.b);
            const rgb = `rgb(${currentColor.r}, ${currentColor.g}, ${currentColor.b})`;
            
            // 检查是否已存在
            const exists = colorHistory.some(item => item.hex === hex);
            if (exists) {
                showError('该颜色已在历史记录中！');
                return;
            }
            
            const historyItem = {
                hex: hex,
                rgb: rgb,
                color: currentColor,
                timestamp: Date.now()
            };
            
            colorHistory.unshift(historyItem);
            
            // 限制历史记录数量
            if (colorHistory.length > 20) {
                colorHistory = colorHistory.slice(0, 20);
            }
            
            saveColorHistory();
            updateHistoryDisplay();
            showSuccess('颜色已保存到历史记录！');
        }
        
        function clearHistory() {
            colorHistory = [];
            saveColorHistory();
            updateHistoryDisplay();
            showSuccess('历史记录已清空！');
        }
        
        function loadColorHistory() {
            try {
                const saved = localStorage.getItem('colorHistory');
                if (saved) {
                    colorHistory = JSON.parse(saved);
                }
            } catch (error) {
                colorHistory = [];
            }
            updateHistoryDisplay();
        }
        
        function saveColorHistory() {
            try {
                localStorage.setItem('colorHistory', JSON.stringify(colorHistory));
            } catch (error) {
                console.error('Failed to save color history:', error);
            }
        }
        
        function updateHistoryDisplay() {
            const container = document.getElementById('colorHistory');
            
            if (colorHistory.length === 0) {
                container.innerHTML = '暂无历史记录';
                return;
            }
            
            container.innerHTML = colorHistory.map(item => `
                <div class="history-item" onclick="applyHistoryColor('${item.hex}')">
                    <div class="history-color" style="background-color: ${item.hex};"></div>
                    <div class="history-info">
                        ${item.hex}<br>
                        ${item.rgb}
                    </div>
                </div>
            `).join('');
        }
        
        function applyHistoryColor(hex) {
            const rgb = hexToRgb(hex);
            if (rgb) {
                currentColor = rgb;
                updateAllFormats();
                showSuccess('已应用历史颜色！');
            }
        }
        
        // 调色板生成
        function generatePalette(type) {
            let colors = [];
            
            switch (type) {
                case 'complementary':
                    colors = generateComplementaryColors();
                    break;
                case 'triadic':
                    colors = generateTriadicColors();
                    break;
                case 'analogous':
                    colors = generateAnalogousColors();
                    break;
                case 'monochromatic':
                    colors = generateMonochromaticColors();
                    break;
                case 'material':
                    colors = getMaterialColors();
                    break;
                case 'web':
                    colors = getWebSafeColors();
                    break;
            }
            
            displayPalette(colors);
        }
        
        function generateComplementaryColors() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            const complementaryHue = (hsl.h + 180) % 360;
            
            return [
                currentColor,
                hslToRgb(complementaryHue, hsl.s, hsl.l),
                hslToRgb(hsl.h, hsl.s * 0.7, hsl.l * 1.2),
                hslToRgb(complementaryHue, hsl.s * 0.7, hsl.l * 1.2),
                hslToRgb(hsl.h, hsl.s * 0.5, hsl.l * 0.8),
                hslToRgb(complementaryHue, hsl.s * 0.5, hsl.l * 0.8)
            ];
        }
        
        function generateTriadicColors() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            
            return [
                currentColor,
                hslToRgb((hsl.h + 120) % 360, hsl.s, hsl.l),
                hslToRgb((hsl.h + 240) % 360, hsl.s, hsl.l),
                hslToRgb(hsl.h, hsl.s * 0.7, hsl.l * 1.2),
                hslToRgb((hsl.h + 120) % 360, hsl.s * 0.7, hsl.l * 1.2),
                hslToRgb((hsl.h + 240) % 360, hsl.s * 0.7, hsl.l * 1.2)
            ];
        }
        
        function generateAnalogousColors() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            
            return [
                hslToRgb((hsl.h - 60 + 360) % 360, hsl.s, hsl.l),
                hslToRgb((hsl.h - 30 + 360) % 360, hsl.s, hsl.l),
                currentColor,
                hslToRgb((hsl.h + 30) % 360, hsl.s, hsl.l),
                hslToRgb((hsl.h + 60) % 360, hsl.s, hsl.l),
                hslToRgb((hsl.h + 90) % 360, hsl.s, hsl.l)
            ];
        }
        
        function generateMonochromaticColors() {
            const hsl = rgbToHsl(currentColor.r, currentColor.g, currentColor.b);
            
            return [
                hslToRgb(hsl.h, hsl.s, 20),
                hslToRgb(hsl.h, hsl.s, 40),
                hslToRgb(hsl.h, hsl.s, 60),
                currentColor,
                hslToRgb(hsl.h, hsl.s, 80),
                hslToRgb(hsl.h, hsl.s, 95)
            ];
        }
        
        function getMaterialColors() {
            return [
                { r: 244, g: 67, b: 54 },   // Red
                { r: 233, g: 30, b: 99 },   // Pink
                { r: 156, g: 39, b: 176 },  // Purple
                { r: 103, g: 58, b: 183 },  // Deep Purple
                { r: 63, g: 81, b: 181 },   // Indigo
                { r: 33, g: 150, b: 243 },  // Blue
                { r: 3, g: 169, b: 244 },   // Light Blue
                { r: 0, g: 188, b: 212 },   // Cyan
                { r: 0, g: 150, b: 136 },   // Teal
                { r: 76, g: 175, b: 80 },   // Green
                { r: 139, g: 195, b: 74 },  // Light Green
                { r: 205, g: 220, b: 57 },  // Lime
                { r: 255, g: 235, b: 59 },  // Yellow
                { r: 255, g: 193, b: 7 },   // Amber
                { r: 255, g: 152, b: 0 },   // Orange
                { r: 255, g: 87, b: 34 }    // Deep Orange
            ];
        }
        
        function getWebSafeColors() {
            const colors = [];
            const values = [0, 51, 102, 153, 204, 255];
            
            for (let i = 0; i < 36; i++) {
                const r = values[Math.floor(i / 6)];
                const g = values[i % 6];
                const b = values[Math.floor(Math.random() * 6)];
                colors.push({ r, g, b });
            }
            
            return colors;
        }
        
        function displayPalette(colors) {
            const container = document.getElementById('paletteGrid');
            
            container.innerHTML = colors.map(color => {
                const hex = rgbToHex(color.r, color.g, color.b);
                return `
                    <div class="palette-color" style="background-color: ${hex};" onclick="applyPaletteColor('${hex}')">
                        <div class="palette-color-label">${hex}</div>
                    </div>
                `;
            }).join('');
        }
        
        function applyPaletteColor(hex) {
            const rgb = hexToRgb(hex);
            if (rgb) {
                currentColor = rgb;
                updateAllFormats();
                showSuccess('已应用调色板颜色！');
            }
        }
        
        // 工具函数
        async function copyToClipboard(text, message) {
            try {
                await navigator.clipboard.writeText(text);
                showSuccess(message);
            } catch (error) {
                // 降级方案
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showSuccess(message);
            }
        }
        
        function showSuccess(message) {
            showMessage(message, 'success');
        }
        
        function showError(message) {
            showMessage(message, 'error');
        }
        
        function showMessage(message, type) {
            // 移除现有消息
            const existing = document.querySelector('.message-toast');
            if (existing) {
                existing.remove();
            }
            
            // 创建新消息
            const toast = document.createElement('div');
            toast.className = `message-toast ${type}`;
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 6px;
                color: white;
                font-weight: bold;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#28a745' : '#dc3545'};
            `;
            
            document.body.appendChild(toast);
            
            // 3秒后自动移除
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => toast.remove(), 300);
                }
            }, 3000);
        }
        
        // FAQ切换
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            const isActive = answer.classList.contains('active');
            
            // 关闭所有FAQ
            document.querySelectorAll('.faq-answer').forEach(item => {
                item.classList.remove('active');
            });
            
            // 切换当前FAQ
            if (!isActive) {
                answer.classList.add('active');
            }
        }
        
        // 添加动画样式
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
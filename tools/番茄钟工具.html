<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>番茄钟工具 - 在线番茄工作法计时器 | IT魔法师工具箱</title>
    <meta name="description" content="免费在线番茄钟工具，采用国际公认的番茄工作法，提高工作效率和专注力。支持自定义时间、休息提醒、统计功能，让工作更高效。">
    <meta name="keywords" content="番茄钟,番茄工作法,在线计时器,专注力训练,工作效率,时间管理,pomodoro,focus timer">
    <meta name="author" content="IT魔法师工具箱">
    <meta property="og:title" content="番茄钟工具 - 在线番茄工作法计时器">
    <meta property="og:description" content="免费在线番茄钟工具，采用国际公认的番茄工作法，提高工作效率和专注力">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://tool.itmagical.top/tools/番茄钟工具.html">
    
    <!-- 引入jQuery和主要样式 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="../assets/css/main.css">
    
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .tool-header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .tool-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tool-intro {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .keyword-tag {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        
        .pomodoro-timer {
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .timer-display {
            font-size: 4em;
            font-weight: bold;
            color: #333;
            margin: 30px 0;
            font-family: 'Courier New', monospace;
        }
        
        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .start-btn {
            background: #4CAF50;
            color: white;
        }
        
        .pause-btn {
            background: #FF9800;
            color: white;
        }
        
        .reset-btn {
            background: #f44336;
            color: white;
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .timer-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .setting-group {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        
        .setting-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        .setting-group input {
            width: 100%;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        
        .timer-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        
        .progress-ring {
            transform: rotate(-90deg);
            margin: 20px auto;
        }
        
        .progress-ring-circle {
            stroke: #667eea;
            stroke-width: 8;
            fill: transparent;
            stroke-dasharray: 628;
            stroke-dashoffset: 628;
            transition: stroke-dashoffset 1s ease;
        }
        
        .content-section {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .content-section h2 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .guide-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .step-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .advantages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .advantage-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }
        
        .advantage-icon {
            font-size: 3em;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .faq-item {
            background: #f8f9fa;
            margin-bottom: 15px;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .faq-question {
            background: #667eea;
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #5a6fd8;
        }
        
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-answer.active {
            padding: 20px;
            max-height: 200px;
        }
        
        .copyright {
            text-align: center;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            color: white;
            margin-top: 30px;
            border-radius: 10px;
        }
        
        @media (max-width: 768px) {
            .timer-display {
                font-size: 2.5em;
            }
            
            .timer-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .control-btn {
                width: 200px;
            }
            
            .tool-header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏组件 -->
    <div id="navbar-container"></div>
    
    <div class="container">
        <!-- 工具标题 -->
        <div class="tool-header">
            <h1>🍅 番茄钟工具</h1>
        </div>
        
        <!-- 工具介绍 -->
        <div class="tool-intro">
            <p><strong>专业的在线番茄工作法计时器，采用国际公认的高效工作方法，帮助您提升专注力和工作效率。</strong></p>
            <div class="keywords">
                <span class="keyword-tag">番茄工作法</span>
                <span class="keyword-tag">专注力训练</span>
                <span class="keyword-tag">时间管理</span>
                <span class="keyword-tag">工作效率</span>
                <span class="keyword-tag">在线计时器</span>
                <span class="keyword-tag">Pomodoro</span>
            </div>
        </div>
        
        <!-- 番茄钟主功能 -->
        <div class="pomodoro-timer">
            <h2>🍅 番茄钟计时器</h2>
            
            <!-- 进度环 -->
            <svg class="progress-ring" width="200" height="200">
                <circle class="progress-ring-circle" cx="100" cy="100" r="90"></circle>
            </svg>
            
            <!-- 时间显示 -->
            <div class="timer-display" id="timerDisplay">25:00</div>
            
            <!-- 控制按钮 -->
            <div class="timer-controls">
                <button class="control-btn start-btn" id="startBtn" onclick="startTimer()">开始专注</button>
                <button class="control-btn pause-btn" id="pauseBtn" onclick="pauseTimer()">暂停</button>
                <button class="control-btn reset-btn" id="resetBtn" onclick="resetTimer()">重置</button>
            </div>
            
            <!-- 设置选项 -->
            <div class="timer-settings">
                <div class="setting-group">
                    <label for="workTime">工作时间 (分钟)</label>
                    <input type="number" id="workTime" value="25" min="1" max="60">
                </div>
                <div class="setting-group">
                    <label for="shortBreak">短休息 (分钟)</label>
                    <input type="number" id="shortBreak" value="5" min="1" max="30">
                </div>
                <div class="setting-group">
                    <label for="longBreak">长休息 (分钟)</label>
                    <input type="number" id="longBreak" value="15" min="1" max="60">
                </div>
                <div class="setting-group">
                    <label for="cycles">长休息周期</label>
                    <input type="number" id="cycles" value="4" min="2" max="10">
                </div>
            </div>
            
            <!-- 统计信息 -->
            <div class="timer-stats">
                <div class="stat-card">
                    <div class="stat-number" id="completedPomodoros">0</div>
                    <div class="stat-label">完成番茄</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalTime">0</div>
                    <div class="stat-label">总时间(分钟)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="currentStreak">0</div>
                    <div class="stat-label">连续专注</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="todayPomodoros">0</div>
                    <div class="stat-label">今日番茄</div>
                </div>
            </div>
        </div>
        
        <!-- 使用指南 -->
        <div class="content-section">
            <h2>📖 使用指南</h2>
            <div class="guide-steps">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>设置时间</h3>
                    <p>根据个人习惯调整工作时间、短休息和长休息的时长，默认为25分钟工作，5分钟短休息。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>开始专注</h3>
                    <p>点击"开始专注"按钮，专心投入到当前任务中，避免任何干扰和分心。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>休息放松</h3>
                    <p>工作时间结束后，进行短暂休息，可以起身活动、喝水或做简单的放松运动。</p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>循环重复</h3>
                    <p>完成4个番茄钟后，进行一次长休息，然后继续下一轮循环。</p>
                </div>
            </div>
        </div>
        
        <!-- 工具详细介绍 -->
        <div class="content-section">
            <h2>🔍 工具详细介绍</h2>
            <p>番茄工作法（Pomodoro Technique）是由意大利人弗朗西斯科·西里洛于1980年代发明的时间管理方法。这种方法使用一个定时器来分割出一个一般为25分钟的工作时间和5分钟的休息时间，而那些时间段被称为pomodoros，为意大利语单词 pomodoro（中文：番茄）之复数。</p>
            
            <h3>核心原理</h3>
            <ul>
                <li><strong>时间分割：</strong>将工作时间分割成短暂的、专注的时间段</li>
                <li><strong>消除干扰：</strong>在工作时间内专注于单一任务，避免多任务处理</li>
                <li><strong>定期休息：</strong>通过规律的休息来保持大脑的活跃度和创造力</li>
                <li><strong>量化管理：</strong>通过统计完成的番茄钟数量来衡量工作效率</li>
            </ul>
            
            <h3>科学依据</h3>
            <p>研究表明，人类的注意力集中时间有限，通常在20-30分钟后开始下降。番茄工作法正是基于这一科学发现，通过合理的时间分配和休息安排，最大化工作效率和学习效果。</p>
        </div>
        
        <!-- 推广语 -->
        <div class="content-section">
            <h2>🌟 为什么选择我们的番茄钟工具</h2>
            <p>在众多时间管理工具中，我们的番茄钟工具脱颖而出，不仅因为它完全免费，更因为它的专业性和易用性。我们深入研究了番茄工作法的核心理念，结合现代人的工作习惯，打造了这款功能完善、界面友好的在线工具。</p>
            
            <p><strong>无需下载安装，打开浏览器即可使用</strong> - 我们相信最好的工具应该是最简单的工具。无论您在办公室、家中还是咖啡厅，只要有网络连接，就能立即开始高效的番茄工作法实践。</p>
            
            <p><strong>数据统计让进步可视化</strong> - 我们不仅提供计时功能，更通过详细的统计数据帮助您了解自己的工作模式，持续改进和优化工作效率。</p>
        </div>
        
        <!-- 工具优势 -->
        <div class="content-section">
            <h2>💪 工具优势与核心功能</h2>
            <div class="advantages-grid">
                <div class="advantage-card">
                    <div class="advantage-icon">⏰</div>
                    <h3>精准计时</h3>
                    <p>毫秒级精准计时，确保每个番茄钟的准确性，让您的时间管理更加精确。</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-icon">🎯</div>
                    <h3>专注提升</h3>
                    <p>通过视觉和听觉提醒，帮助您保持专注状态，有效减少分心和拖延。</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-icon">📊</div>
                    <h3>数据统计</h3>
                    <p>详细记录每日完成的番茄钟数量、总工作时间等数据，让进步看得见。</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-icon">🔧</div>
                    <h3>个性化设置</h3>
                    <p>支持自定义工作时间、休息时间和循环周期，适应不同的工作需求。</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-icon">📱</div>
                    <h3>多平台兼容</h3>
                    <p>完美支持电脑、平板、手机等各种设备，随时随地开始高效工作。</p>
                </div>
                <div class="advantage-card">
                    <div class="advantage-icon">🆓</div>
                    <h3>完全免费</h3>
                    <p>无需注册登录，无广告干扰，专注于为用户提供纯净的使用体验。</p>
                </div>
            </div>
            
            <h3>🎯 应用场景</h3>
            <ul>
                <li><strong>学习备考：</strong>提高学习专注度，合理安排复习时间</li>
                <li><strong>工作办公：</strong>提升工作效率，减少会议和邮件干扰</li>
                <li><strong>创作写作：</strong>保持创作状态，避免灵感中断</li>
                <li><strong>编程开发：</strong>专注代码编写，提高开发质量</li>
                <li><strong>项目管理：</strong>合理分配任务时间，提高团队效率</li>
                <li><strong>个人成长：</strong>培养专注习惯，提升自我管理能力</li>
            </ul>
        </div>
        
        <!-- 常见问题 -->
        <div class="content-section">
            <h2>❓ 常见问题</h2>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">番茄工作法适合所有人吗？</div>
                <div class="faq-answer">
                    <p>番茄工作法适合大多数人，特别是那些容易分心、拖延或需要提高工作效率的人。但每个人的工作习惯不同，建议先尝试标准的25分钟工作时间，然后根据个人情况调整。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">可以在番茄钟期间处理紧急事务吗？</div>
                <div class="faq-answer">
                    <p>番茄工作法的核心是专注，建议在番茄钟期间避免处理其他事务。如果确实有紧急情况，可以暂停计时器处理，然后重新开始一个完整的番茄钟。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">为什么是25分钟而不是其他时间？</div>
                <div class="faq-answer">
                    <p>25分钟是基于人类注意力集中的科学研究得出的最佳时长。这个时间足够完成有意义的工作，又不会让大脑过度疲劳。当然，您可以根据个人情况调整为20-30分钟。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">休息时间应该做什么？</div>
                <div class="faq-answer">
                    <p>短休息时间建议做一些轻松的活动：起身走动、喝水、做眼保健操、简单伸展等。避免查看社交媒体或处理工作邮件，这样会影响下一个番茄钟的专注度。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">数据会保存吗？</div>
                <div class="faq-answer">
                    <p>当前版本的数据保存在浏览器本地存储中，关闭浏览器后数据仍会保留。但清除浏览器数据会导致统计信息丢失，建议定期记录重要的统计数据。</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 页脚组件 -->
    <div id="footer-container"></div>
    
    <!-- 版权信息 -->
    <div class="copyright">
        <p>© 2025 专业的在线番茄工作法计时器，提升专注力和工作效率</p>
    </div>
    
    <script>
        // 番茄钟核心变量
        let timer = null;
        let timeLeft = 25 * 60; // 默认25分钟
        let isRunning = false;
        let currentMode = 'work'; // work, shortBreak, longBreak
        let completedPomodoros = parseInt(localStorage.getItem('completedPomodoros') || '0');
        let totalTime = parseInt(localStorage.getItem('totalTime') || '0');
        let currentStreak = parseInt(localStorage.getItem('currentStreak') || '0');
        let todayPomodoros = parseInt(localStorage.getItem('todayPomodoros') || '0');
        let lastDate = localStorage.getItem('lastDate') || '';
        
        // 检查是否是新的一天
        const today = new Date().toDateString();
        if (lastDate !== today) {
            todayPomodoros = 0;
            localStorage.setItem('todayPomodoros', '0');
            localStorage.setItem('lastDate', today);
        }
        
        // 初始化显示
        updateDisplay();
        updateStats();
        
        function startTimer() {
            if (!isRunning) {
                isRunning = true;
                document.getElementById('startBtn').textContent = '进行中...';
                document.getElementById('startBtn').disabled = true;
                
                timer = setInterval(() => {
                    timeLeft--;
                    updateDisplay();
                    updateProgress();
                    
                    if (timeLeft <= 0) {
                        completeTimer();
                    }
                }, 1000);
            }
        }
        
        function pauseTimer() {
            if (isRunning) {
                isRunning = false;
                clearInterval(timer);
                document.getElementById('startBtn').textContent = '继续';
                document.getElementById('startBtn').disabled = false;
            }
        }
        
        function resetTimer() {
            isRunning = false;
            clearInterval(timer);
            
            const workTime = parseInt(document.getElementById('workTime').value);
            timeLeft = workTime * 60;
            currentMode = 'work';
            
            document.getElementById('startBtn').textContent = '开始专注';
            document.getElementById('startBtn').disabled = false;
            
            updateDisplay();
            updateProgress();
        }
        
        function completeTimer() {
            isRunning = false;
            clearInterval(timer);
            
            // 播放提示音
            playNotificationSound();
            
            if (currentMode === 'work') {
                // 完成一个番茄钟
                completedPomodoros++;
                todayPomodoros++;
                currentStreak++;
                totalTime += parseInt(document.getElementById('workTime').value);
                
                // 保存数据
                localStorage.setItem('completedPomodoros', completedPomodoros.toString());
                localStorage.setItem('todayPomodoros', todayPomodoros.toString());
                localStorage.setItem('currentStreak', currentStreak.toString());
                localStorage.setItem('totalTime', totalTime.toString());
                
                // 检查是否需要长休息
                const cycles = parseInt(document.getElementById('cycles').value);
                if (completedPomodoros % cycles === 0) {
                    // 长休息
                    currentMode = 'longBreak';
                    timeLeft = parseInt(document.getElementById('longBreak').value) * 60;
                    alert('🎉 恭喜完成一个番茄钟！现在开始长休息时间。');
                } else {
                    // 短休息
                    currentMode = 'shortBreak';
                    timeLeft = parseInt(document.getElementById('shortBreak').value) * 60;
                    alert('🎉 恭喜完成一个番茄钟！现在开始短休息时间。');
                }
            } else {
                // 休息结束，开始工作
                currentMode = 'work';
                timeLeft = parseInt(document.getElementById('workTime').value) * 60;
                alert('⏰ 休息时间结束，准备开始下一个番茄钟！');
            }
            
            document.getElementById('startBtn').textContent = '开始';
            document.getElementById('startBtn').disabled = false;
            
            updateDisplay();
            updateStats();
            updateProgress();
        }
        
        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
            
            // 更新页面标题
            document.title = `${display} - ${getModeText()} | 番茄钟工具`;
        }
        
        function updateProgress() {
            const totalTime = getCurrentModeTime() * 60;
            const progress = (totalTime - timeLeft) / totalTime;
            const circumference = 2 * Math.PI * 90;
            const offset = circumference - (progress * circumference);
            
            document.querySelector('.progress-ring-circle').style.strokeDashoffset = offset;
        }
        
        function updateStats() {
            document.getElementById('completedPomodoros').textContent = completedPomodoros;
            document.getElementById('totalTime').textContent = totalTime;
            document.getElementById('currentStreak').textContent = currentStreak;
            document.getElementById('todayPomodoros').textContent = todayPomodoros;
        }
        
        function getCurrentModeTime() {
            switch (currentMode) {
                case 'work':
                    return parseInt(document.getElementById('workTime').value);
                case 'shortBreak':
                    return parseInt(document.getElementById('shortBreak').value);
                case 'longBreak':
                    return parseInt(document.getElementById('longBreak').value);
                default:
                    return 25;
            }
        }
        
        function getModeText() {
            switch (currentMode) {
                case 'work':
                    return '专注工作';
                case 'shortBreak':
                    return '短休息';
                case 'longBreak':
                    return '长休息';
                default:
                    return '番茄钟';
            }
        }
        
        function playNotificationSound() {
            // 创建音频上下文
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 1);
        }
        
        // 设置变更监听
        document.getElementById('workTime').addEventListener('change', function() {
            if (!isRunning && currentMode === 'work') {
                timeLeft = parseInt(this.value) * 60;
                updateDisplay();
                updateProgress();
            }
        });
        
        // FAQ切换功能
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            answer.classList.toggle('active');
        }
        
        // 键盘快捷键
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                if (isRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            }
        });
        
        // 页面可见性变化处理
        document.addEventListener('visibilitychange', function() {
            if (document.hidden && isRunning) {
                // 页面隐藏时继续计时
                console.log('页面隐藏，计时器继续运行');
            }
        });
        
        // 加载导航栏和页脚组件
        $(document).ready(function() {
            // 加载导航栏
            $('#navbar-container').load('../components/navbar.html');
            
            // 加载页脚
            $('#footer-container').load('../components/footer.html');
        });
    </script>
</body>
</html>

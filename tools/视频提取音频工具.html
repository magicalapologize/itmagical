<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>视频提取音频工具 - 在线提取视频音轨 | IT魔法师工具箱</title>
    <meta name="description" content="支持MP4、AVI、MOV、MKV等主流视频格式在线提取音频，可选择MP3、WAV、AAC、FLAC等多种输出格式，高质量音频提取。">
    <meta name="keywords" content="视频提取音频,音频提取,视频转音频,MP4转MP3,视频音轨提取,在线音频提取,音频格式转换">
    <meta name="author" content="IT魔法师工具箱">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="视频提取音频工具 - 在线提取视频音轨">
    <meta property="og:description" content="支持MP4、AVI、MOV、MKV等主流视频格式在线提取音频，可选择MP3、WAV、AAC、FLAC等多种输出格式，高质量音频提取。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://itmagical.com/tools/视频提取音频工具.html">
    <link rel="canonical" href="https://itmagical.com/tools/视频提取音频工具.html">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/fontawesome-all.min.css">
    <script src="../assets/js/jquery.min.js"></script>
    <!-- FFmpeg.js for video processing -->
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.7/dist/umd/ffmpeg.js"></script>
    <style>
        .audio-extractor-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 30px;
            background: #f9f9f9;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .upload-area.dragover {
            background: #e9f7fe;
            border-color: #007bff;
        }
        .upload-icon {
            font-size: 48px;
            color: #007bff;
            margin-bottom: 15px;
        }
        .file-input {
            display: none;
        }
        .video-info-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: none;
        }
        .video-preview {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            align-items: start;
        }
        .video-player {
            width: 100%;
            max-width: 300px;
            border-radius: 8px;
        }
        .video-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .detail-item {
            display: flex;
            flex-direction: column;
        }
        .detail-label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #666;
        }
        .detail-value {
            font-size: 16px;
        }
        .settings-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .setting-item {
            margin-bottom: 15px;
        }
        .setting-item label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .setting-item select, .setting-item input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }
        .format-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        .format-option {
            text-align: center;
            padding: 15px 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        .format-option.selected {
            border-color: #007bff;
            background: #e9f7fe;
        }
        .format-option:hover {
            border-color: #007bff;
        }
        .format-icon {
            font-size: 24px;
            margin-bottom: 8px;
            color: #007bff;
        }
        .format-name {
            font-weight: bold;
            margin-bottom: 4px;
        }
        .format-desc {
            font-size: 12px;
            color: #666;
        }
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .action-button {
            padding: 12px 24px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .action-button:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }
        .action-button.secondary {
            background: #6c757d;
        }
        .action-button.secondary:hover {
            background: #545b62;
        }
        .action-button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }
        .progress-container {
            margin: 20px 0;
            background: #f1f1f1;
            border-radius: 8px;
            height: 20px;
            overflow: hidden;
            display: none;
        }
        .progress-bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, #007bff, #00c6ff);
            transition: width 0.3s ease;
        }
        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
        }
        .audio-result {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
            display: none;
        }
        .audio-player {
            width: 100%;
            margin-bottom: 20px;
        }
        .audio-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .batch-container {
            margin-top: 30px;
            display: none;
        }
        .batch-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-top: 15px;
        }
        .batch-item {
            padding: 15px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .batch-item:last-child {
            border-bottom: none;
        }
        .batch-info {
            flex: 1;
        }
        .batch-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .batch-details {
            font-size: 14px;
            color: #666;
        }
        .batch-status {
            font-size: 14px;
            padding: 4px 8px;
            border-radius: 4px;
            background: #f1f1f1;
        }
        .batch-status.pending {
            background: #ffeeba;
            color: #856404;
        }
        .batch-status.processing {
            background: #b8daff;
            color: #004085;
        }
        .batch-status.completed {
            background: #c3e6cb;
            color: #155724;
        }
        .batch-status.failed {
            background: #f5c6cb;
            color: #721c24;
        }
        .guide-section {
            background: #f8f9fa;
            padding: 30px;
            margin: 40px 0;
            border-radius: 8px;
        }
        .guide-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .guide-item {
            background: white;
            padding: 20px;
            border-radius: 6px;
            border-left: 4px solid #007bff;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .feature-icon {
            font-size: 48px;
            color: #007bff;
            margin-bottom: 15px;
        }
        .faq-item {
            background: white;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .faq-question {
            padding: 20px;
            background: #f8f9fa;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .faq-answer.active {
            padding: 20px;
            max-height: 300px;
        }
        .time-range {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }
        .time-inputs {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 15px;
            align-items: center;
        }
        .time-input {
            display: flex;
            flex-direction: column;
        }
        .time-input label {
            margin-bottom: 5px;
            font-size: 14px;
        }
        .time-input input {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        @media (max-width: 768px) {
            .video-preview {
                grid-template-columns: 1fr;
            }
            .settings-grid {
                grid-template-columns: 1fr;
            }
            .action-buttons {
                justify-content: center;
            }
            .format-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body class="is-preload">
    <!-- 导航栏容器 -->
    <div id="navbar-container"></div>

    <!-- 主要内容 -->
    <div id="main">
        <div class="inner">
            <!-- 工具标题 -->
            <header class="major">
                <h1>视频提取音频工具</h1>
                <p>支持主流视频格式在线提取音频，可选择多种输出格式</p>
            </header>

            <!-- 工具功能实现 -->
            <section class="audio-extractor-container">
                <!-- 上传区域 -->
                <div class="upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                    <div class="upload-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>点击或拖拽上传视频文件</h3>
                    <p>支持MP4、AVI、MOV、MKV、WMV、FLV等格式，单个文件最大500MB</p>
                    <input type="file" id="fileInput" class="file-input" accept="video/*" onchange="handleFileSelect(event)">
                </div>

                <!-- 视频信息面板 -->
                <div id="videoInfoPanel" class="video-info-panel">
                    <h3><i class="fas fa-info-circle"></i> 视频信息</h3>
                    <div class="video-preview">
                        <video id="videoPlayer" class="video-player" controls>
                            您的浏览器不支持视频播放。
                        </video>
                        <div class="video-details">
                            <div class="detail-item">
                                <span class="detail-label">文件名</span>
                                <span class="detail-value" id="fileName">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">文件大小</span>
                                <span class="detail-value" id="fileSize">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">视频时长</span>
                                <span class="detail-value" id="videoDuration">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">视频分辨率</span>
                                <span class="detail-value" id="videoResolution">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">视频格式</span>
                                <span class="detail-value" id="videoFormat">-</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">音频编码</span>
                                <span class="detail-value" id="audioCodec">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 设置面板 -->
                <div class="settings-panel">
                    <h3><i class="fas fa-sliders-h"></i> 提取设置</h3>
                    
                    <!-- 输出格式选择 -->
                    <div class="setting-item">
                        <label>选择输出音频格式</label>
                        <div class="format-options">
                            <div class="format-option selected" data-format="mp3" onclick="selectFormat('mp3')">
                                <div class="format-icon"><i class="fas fa-music"></i></div>
                                <div class="format-name">MP3</div>
                                <div class="format-desc">通用格式</div>
                            </div>
                            <div class="format-option" data-format="wav" onclick="selectFormat('wav')">
                                <div class="format-icon"><i class="fas fa-wave-square"></i></div>
                                <div class="format-name">WAV</div>
                                <div class="format-desc">无损音质</div>
                            </div>
                            <div class="format-option" data-format="aac" onclick="selectFormat('aac')">
                                <div class="format-icon"><i class="fas fa-compact-disc"></i></div>
                                <div class="format-name">AAC</div>
                                <div class="format-desc">高效压缩</div>
                            </div>
                            <div class="format-option" data-format="flac" onclick="selectFormat('flac')">
                                <div class="format-icon"><i class="fas fa-gem"></i></div>
                                <div class="format-name">FLAC</div>
                                <div class="format-desc">无损压缩</div>
                            </div>
                            <div class="format-option" data-format="ogg" onclick="selectFormat('ogg')">
                                <div class="format-icon"><i class="fas fa-file-audio"></i></div>
                                <div class="format-name">OGG</div>
                                <div class="format-desc">开源格式</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-grid">
                        <div class="setting-item">
                            <label for="audioQuality">音频质量</label>
                            <select id="audioQuality">
                                <option value="high">高质量 (320kbps)</option>
                                <option value="medium" selected>中等质量 (192kbps)</option>
                                <option value="low">低质量 (128kbps)</option>
                                <option value="original">保持原始质量</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="sampleRate">采样率</label>
                            <select id="sampleRate">
                                <option value="44100" selected>44.1 kHz (CD质量)</option>
                                <option value="48000">48 kHz (专业级)</option>
                                <option value="22050">22.05 kHz (中等)</option>
                                <option value="original">保持原始采样率</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="channels">声道</label>
                            <select id="channels">
                                <option value="stereo" selected>立体声 (双声道)</option>
                                <option value="mono">单声道</option>
                                <option value="original">保持原始声道</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="volumeAdjust">音量调整</label>
                            <input type="range" id="volumeAdjust" min="0.1" max="2.0" step="0.1" value="1.0" oninput="updateVolumeDisplay(this.value)">
                            <div style="text-align: center; margin-top: 5px;">音量: <span id="volumeDisplay">100%</span></div>
                        </div>
                    </div>

                    <!-- 时间范围选择 -->
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableTimeRange" onchange="toggleTimeRange()"> 
                            提取指定时间段
                        </label>
                        <div id="timeRange" class="time-range" style="display: none;">
                            <div class="time-inputs">
                                <div class="time-input">
                                    <label>开始时间 (秒)</label>
                                    <input type="number" id="startTime" value="0" min="0" step="0.1">
                                </div>
                                <div style="text-align: center; font-weight: bold;">至</div>
                                <div class="time-input">
                                    <label>结束时间 (秒)</label>
                                    <input type="number" id="endTime" value="0" min="0" step="0.1">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 操作按钮 -->
                    <div class="action-buttons">
                        <button id="extractBtn" class="action-button" onclick="startExtraction()" disabled>
                            <i class="fas fa-play"></i> 开始提取
                        </button>
                        <button id="previewBtn" class="action-button secondary" onclick="previewAudio()" disabled>
                            <i class="fas fa-headphones"></i> 预览音频
                        </button>
                        <button id="downloadBtn" class="action-button secondary" onclick="downloadAudio()" disabled>
                            <i class="fas fa-download"></i> 下载音频
                        </button>
                        <button id="batchModeBtn" class="action-button secondary" onclick="toggleBatchMode()">
                            <i class="fas fa-layer-group"></i> 批量处理
                        </button>
                        <button id="resetBtn" class="action-button secondary" onclick="resetAll()">
                            <i class="fas fa-redo"></i> 重置
                        </button>
                    </div>
                </div>

                <!-- 进度条 -->
                <div id="progressContainer" class="progress-container">
                    <div id="progressBar" class="progress-bar"></div>
                    <div id="progressText" class="progress-text">准备中...</div>
                </div>

                <!-- 音频结果 -->
                <div id="audioResult" class="audio-result">
                    <h3><i class="fas fa-music"></i> 提取结果</h3>
                    <audio id="audioPlayer" class="audio-player" controls>
                        您的浏览器不支持音频播放。
                    </audio>
                    <div class="audio-info">
                        <div class="detail-item">
                            <span class="detail-label">音频格式</span>
                            <span class="detail-value" id="audioFormat">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">音频时长</span>
                            <span class="detail-value" id="audioDuration">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">音频大小</span>
                            <span class="detail-value" id="audioSize">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">比特率</span>
                            <span class="detail-value" id="audioBitrate">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">采样率</span>
                            <span class="detail-value" id="audioSampleRate">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">声道数</span>
                            <span class="detail-value" id="audioChannels">-</span>
                        </div>
                    </div>
                </div>

                <!-- 批量处理 -->
                <div id="batchContainer" class="batch-container">
                    <h3><i class="fas fa-layer-group"></i> 批量处理</h3>
                    <p>一次上传多个视频文件进行批量音频提取，处理完成后可一键下载所有结果。</p>
                    
                    <div class="upload-area" onclick="document.getElementById('batchFiles').click()">
                        <div class="upload-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <h3>点击或拖拽上传多个视频文件</h3>
                        <p>最多支持5个视频同时处理，总大小不超过2GB</p>
                        <input type="file" id="batchFiles" class="file-input" accept="video/*" multiple onchange="handleBatchSelect(event)">
                    </div>
                    
                    <div class="action-buttons">
                        <button id="startBatchBtn" class="action-button" onclick="startBatchProcess()" disabled>
                            <i class="fas fa-play"></i> 开始批量提取
                        </button>
                        <button id="downloadAllBtn" class="action-button secondary" onclick="downloadAllResults()" disabled>
                            <i class="fas fa-download"></i> 下载所有音频
                        </button>
                    </div>
                    
                    <div id="batchList" class="batch-list"></div>
                </div>
            </section>

            <!-- 使用指南 -->
            <section class="guide-section">
                <h2><i class="fas fa-book"></i> 使用指南</h2>
                <div class="guide-grid">
                    <div class="guide-item">
                        <h3>1. 上传视频</h3>
                        <p>点击上传区域或拖拽视频文件到上传区域，支持MP4、AVI、MOV、MKV等主流视频格式。</p>
                    </div>
                    <div class="guide-item">
                        <h3>2. 选择格式</h3>
                        <p>选择输出音频格式，MP3适合通用播放，WAV/FLAC适合高质量需求，AAC适合移动设备。</p>
                    </div>
                    <div class="guide-item">
                        <h3>3. 调整参数</h3>
                        <p>根据需求调整音频质量、采样率、声道等参数，也可以选择提取指定时间段的音频。</p>
                    </div>
                    <div class="guide-item">
                        <h3>4. 开始提取</h3>
                        <p>点击"开始提取"按钮，系统将从视频中提取音频轨道并转换为指定格式。</p>
                    </div>
                    <div class="guide-item">
                        <h3>5. 预览试听</h3>
                        <p>提取完成后可以预览试听音频效果，确认质量满意后再下载保存。</p>
                    </div>
                    <div class="guide-item">
                        <h3>6. 下载保存</h3>
                        <p>点击"下载音频"将提取的音频文件保存到本地设备，支持批量下载。</p>
                    </div>
                </div>
            </section>

            <!-- 工具详细介绍 -->
            <section>
                <h2>工具详细介绍</h2>
                <p>我们的视频提取音频工具是一款专业的在线音频提取服务，专为从各种视频文件中提取高质量音频而设计。无论您是想要提取音乐视频中的歌曲、会议录像中的语音，还是电影中的背景音乐，我们的工具都能为您提供快速、高质量的音频提取服务。</p>
                
                <p>该工具采用先进的FFmpeg音视频处理技术，支持几乎所有主流的视频格式输入，包括MP4、AVI、MOV、MKV、WMV、FLV等。同时提供多种音频输出格式选择，从通用的MP3格式到专业级的FLAC无损格式，满足不同用户的需求。</p>
                
                <p>我们特别注重音频质量的保持，提供了丰富的参数调整选项，包括比特率、采样率、声道配置等，让您能够根据具体需求获得最佳的音频输出效果。同时支持时间段选择功能，可以精确提取视频中的特定片段音频。</p>
                
                <h3>技术特点</h3>
                <ul style="font-size: 16px; line-height: 2;">
                    <li><strong>高质量提取</strong> - 采用专业音频处理算法，保持原始音频质量</li>
                    <li><strong>多格式支持</strong> - 支持主流视频输入格式和多种音频输出格式</li>
                    <li><strong>精确控制</strong> - 支持时间段选择，精确提取所需音频片段</li>
                    <li><strong>参数可调</strong> - 丰富的音频参数设置，满足专业需求</li>
                    <li><strong>批量处理</strong> - 支持多个视频文件同时处理，提高效率</li>
                </ul>
            </section>

            <!-- 推广语 -->
            <section class="guide-section">
                <h2>为什么选择我们的视频提取音频工具？</h2>
                <p style="font-size: 18px; text-align: center; margin-bottom: 30px;">让视频中的每一个音符都完美呈现</p>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-rocket"></i></div>
                        <h3>快速提取</h3>
                        <p>先进的处理算法，快速从视频中提取音频，节省您的宝贵时间</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-star"></i></div>
                        <h3>专业品质</h3>
                        <p>保持原始音频质量，支持无损格式输出，满足专业音频需求</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-cogs"></i></div>
                        <h3>灵活配置</h3>
                        <p>丰富的参数设置选项，可根据不同需求调整输出效果</p>
                    </div>
                </div>
            </section>

            <!-- 工具优势 -->
            <section>
                <h2>工具优势与核心功能</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-file-video"></i></div>
                        <h3>全格式支持</h3>
                        <p>支持MP4、AVI、MOV、MKV、WMV、FLV等主流视频格式</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-music"></i></div>
                        <h3>多种音频格式</h3>
                        <p>输出MP3、WAV、AAC、FLAC、OGG等多种音频格式</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-sliders-h"></i></div>
                        <h3>质量可调</h3>
                        <p>支持多种音频质量设置，从高压缩到无损音质</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-clock"></i></div>
                        <h3>时间段选择</h3>
                        <p>精确选择提取时间段，只提取需要的音频部分</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-volume-up"></i></div>
                        <h3>音量调节</h3>
                        <p>支持音量增益调节，优化音频播放效果</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-layer-group"></i></div>
                        <h3>批量处理</h3>
                        <p>支持多个视频文件同时处理，提高工作效率</p>
                    </div>
                </div>

                <h3>应用场景</h3>
                <ul style="font-size: 16px; line-height: 2;">
                    <li><strong>音乐爱好者</strong> - 从音乐视频、演唱会录像中提取高质量音频</li>
                    <li><strong>内容创作者</strong> - 提取视频中的背景音乐、音效素材</li>
                    <li><strong>学习教育</strong> - 从教学视频、讲座录像中提取音频用于复习</li>
                    <li><strong>会议记录</strong> - 从会议录像中提取音频，便于后续整理</li>
                    <li><strong>播客制作</strong> - 从视频访谈中提取音频制作播客节目</li>
                    <li><strong>语言学习</strong> - 提取外语视频音频，制作听力练习材料</li>
                </ul>
            </section>

            <!-- 常见问题 -->
            <section>
                <h2>常见问题解答</h2>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>支持哪些视频格式？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>我们的工具支持几乎所有主流视频格式，包括MP4、AVI、MOV、MKV、WMV、FLV、3GP、WEBM等。如果您的视频格式比较特殊，建议先转换为MP4格式再进行音频提取。</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>如何选择合适的音频格式？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>MP3格式兼容性最好，适合日常播放；WAV和FLAC是无损格式，适合专业音频处理；AAC格式压缩效率高，适合移动设备；OGG是开源格式，文件较小。根据您的用途选择合适的格式。</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>提取的音频质量如何？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>音频质量取决于原始视频的音频质量和您选择的输出设置。我们的工具可以保持原始音频质量不变，也可以根据需要进行质量调整。建议选择"保持原始质量"或"高质量"设置以获得最佳效果。</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>可以只提取视频的一部分音频吗？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>可以的。勾选"提取指定时间段"选项，然后设置开始时间和结束时间（以秒为单位），系统将只提取该时间段内的音频。这个功能特别适合提取歌曲片段或重要讲话内容。</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>处理大文件需要多长时间？</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>处理时间取决于视频文件大小、时长和您的设备性能。一般来说，提取音频比视频转换要快得多，通常几分钟就能完成。我们建议单个文件不超过500MB以确保良好的处理体验。</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 页脚容器 -->
    <div id="footer-container"></div>

    <!-- 版权信息 -->
    <div style="text-align: center; padding: 20px; background: #f8f9fa; margin-top: 40px;">
        <p>&copy; 2025 支持主流视频格式在线提取音频的专业工具</p>
    </div>

    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>
    
    <script>
        // 全局变量
        let currentVideo = null;
        let extractedAudio = null;
        let selectedFormat = 'mp3';
        let batchQueue = [];
        let batchResults = [];
        let isBatchMode = false;
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            setupDragAndDrop();
        });
        
        // 设置拖拽上传
        function setupDragAndDrop() {
            const uploadAreas = document.querySelectorAll('.upload-area');
            
            uploadAreas.forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        if (this.id === 'uploadArea') {
                            document.getElementById('fileInput').files = files;
                            handleFileSelect({target: {files: [files[0]]}});
                        } else {
                            document.getElementById('batchFiles').files = files;
                            handleBatchSelect({target: {files: files}});
                        }
                    }
                });
            });
        }
        
        // 处理文件选择
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // 检查文件类型
            if (!file.type.match('video.*')) {
                alert('请选择视频文件！');
                return;
            }
            
            // 检查文件大小
            if (file.size > 500 * 1024 * 1024) { // 500MB
                alert('视频文件大小不能超过500MB！');
                return;
            }
            
            // 保存当前视频
            currentVideo = file;
            
            // 创建视频URL
            const videoURL = URL.createObjectURL(file);
            const videoPlayer = document.getElementById('videoPlayer');
            videoPlayer.src = videoURL;
            
            // 显示视频信息
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileSize').textContent = formatFileSize(file.size);
            document.getElementById('videoFormat').textContent = file.type;
            
            // 当视频加载完成时获取更多信息
            videoPlayer.addEventListener('loadedmetadata', function() {
                document.getElementById('videoDuration').textContent = formatTime(videoPlayer.duration);
                document.getElementById('videoResolution').textContent = `${videoPlayer.videoWidth} × ${videoPlayer.videoHeight}`;
                document.getElementById('endTime').value = Math.floor(videoPlayer.duration);
                
                // 模拟获取音频编码信息
                document.getElementById('audioCodec').textContent = '自动检测';
            });
            
            // 显示视频信息面板
            document.getElementById('videoInfoPanel').style.display = 'block';
            
            // 启用提取按钮
            document.getElementById('extractBtn').disabled = false;
        }
        
        // 选择输出格式
        function selectFormat(format) {
            // 移除之前的选中状态
            document.querySelectorAll('.format-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // 添加新的选中状态
            document.querySelector(`[data-format="${format}"]`).classList.add('selected');
            
            selectedFormat = format;
        }
        
        // 更新音量显示
        function updateVolumeDisplay(value) {
            document.getElementById('volumeDisplay').textContent = Math.round(value * 100) + '%';
        }
        
        // 切换时间范围
        function toggleTimeRange() {
            const checkbox = document.getElementById('enableTimeRange');
            const timeRange = document.getElementById('timeRange');
            
            if (checkbox.checked) {
                timeRange.style.display = 'block';
            } else {
                timeRange.style.display = 'none';
            }
        }
        
        // 开始提取
        function startExtraction() {
            if (!currentVideo) return;
            
            // 显示进度条
            document.getElementById('progressContainer').style.display = 'block';
            updateProgress(10, '准备提取音频...');
            
            // 禁用按钮
            document.getElementById('extractBtn').disabled = true;
            document.getElementById('downloadBtn').disabled = true;
            
            // 获取设置
            const settings = getExtractionSettings();
            
            // 模拟音频提取过程（实际项目中应使用FFmpeg.js或服务器端处理）
            simulateAudioExtraction(currentVideo, settings);
        }
        
        // 获取提取设置
        function getExtractionSettings() {
            const enableTimeRange = document.getElementById('enableTimeRange').checked;
            
            return {
                format: selectedFormat,
                quality: document.getElementById('audioQuality').value,
                sampleRate: document.getElementById('sampleRate').value,
                channels: document.getElementById('channels').value,
                volume: parseFloat(document.getElementById('volumeAdjust').value),
                startTime: enableTimeRange ? parseFloat(document.getElementById('startTime').value) : 0,
                endTime: enableTimeRange ? parseFloat(document.getElementById('endTime').value) : null
            };
        }
        
        // 模拟音频提取（实际项目中应替换为真实的FFmpeg处理）
        function simulateAudioExtraction(videoFile, settings) {
            updateProgress(30, '分析视频文件...');
            
            setTimeout(() => {
                updateProgress(60, '提取音频轨道...');
                
                setTimeout(() => {
                    updateProgress(90, '转换音频格式...');
                    
                    setTimeout(() => {
                        // 创建模拟的音频文件（实际项目中这里应该是真实的音频数据）
                        const audioBlob = new Blob(['模拟音频数据'], { type: `audio/${settings.format}` });
                        const audioURL = URL.createObjectURL(audioBlob);
                        
                        // 保存提取的音频
                        extractedAudio = {
                            blob: audioBlob,
                            url: audioURL,
                            settings: settings
                        };
                        
                        // 显示音频播放器
                        const audioPlayer = document.getElementById('audioPlayer');
                        audioPlayer.src = audioURL;
                        
                        // 更新音频信息
                        document.getElementById('audioFormat').textContent = settings.format.toUpperCase();
                        document.getElementById('audioDuration').textContent = calculateAudioDuration(settings);
                        document.getElementById('audioSize').textContent = formatFileSize(audioBlob.size);
                        document.getElementById('audioBitrate').textContent = getBitrate(settings.quality);
                        document.getElementById('audioSampleRate').textContent = getSampleRateDisplay(settings.sampleRate);
                        document.getElementById('audioChannels').textContent = getChannelsDisplay(settings.channels);
                        
                        // 显示结果区域
                        document.getElementById('audioResult').style.display = 'block';
                        
                        updateProgress(100, '提取完成！');
                        
                        // 启用按钮
                        document.getElementById('previewBtn').disabled = false;
                        document.getElementById('downloadBtn').disabled = false;
                        document.getElementById('extractBtn').disabled = false;
                    }, 1000);
                }, 1000);
            }, 1000);
        }
        
        // 计算音频时长
        function calculateAudioDuration(settings) {
            if (currentVideo && document.getElementById('videoPlayer').duration) {
                const videoDuration = document.getElementById('videoPlayer').duration;
                if (settings.endTime && settings.startTime) {
                    return formatTime(settings.endTime - settings.startTime);
                }
                return formatTime(videoDuration);
            }
            return '未知';
        }
        
        // 获取比特率显示
        function getBitrate(quality) {
            const bitrates = {
                'high': '320 kbps',
                'medium': '192 kbps',
                'low': '128 kbps',
                'original': '原始比特率'
            };
            return bitrates[quality] || '未知';
        }
        
        // 获取采样率显示
        function getSampleRateDisplay(sampleRate) {
            if (sampleRate === 'original') return '原始采样率';
            return (parseInt(sampleRate) / 1000).toFixed(1) + ' kHz';
        }
        
        // 获取声道显示
        function getChannelsDisplay(channels) {
            const channelNames = {
                'stereo': '立体声 (2声道)',
                'mono': '单声道 (1声道)',
                'original': '原始声道'
            };
            return channelNames[channels] || '未知';
        }
        
        // 预览音频
        function previewAudio() {
            if (extractedAudio) {
                const audioPlayer = document.getElementById('audioPlayer');
                audioPlayer.play();
            }
        }
        
        // 下载音频
        function downloadAudio() {
            if (!extractedAudio) return;
            
            const link = document.createElement('a');
            link.href = extractedAudio.url;
            link.download = `extracted_audio.${selectedFormat}`;
            link.click();
        }
        
        // 切换批量模式
        function toggleBatchMode() {
            isBatchMode = !isBatchMode;
            
            if (isBatchMode) {
                document.getElementById('batchContainer').style.display = 'block';
                document.getElementById('batchModeBtn').innerHTML = '<i class="fas fa-user"></i> 单个处理';
            } else {
                document.getElementById('batchContainer').style.display = 'none';
                document.getElementById('batchModeBtn').innerHTML = '<i class="fas fa-layer-group"></i> 批量处理';
            }
        }
        
        // 处理批量文件选择
        function handleBatchSelect(event) {
            const files = event.target.files;
            if (!files || files.length === 0) return;
            
            // 检查文件数量
            if (files.length > 5) {
                alert('一次最多处理5个视频文件！');
                return;
            }
            
            // 检查总大小
            let totalSize = 0;
            for (let i = 0; i < files.length; i++) {
                totalSize += files[i].size;
            }
            
            if (totalSize > 2 * 1024 * 1024 * 1024) { // 2GB
                alert('总文件大小不能超过2GB！');
                return;
            }
            
            // 清空队列
            batchQueue = [];
            batchResults = [];
            document.getElementById('batchList').innerHTML = '';
            
            // 添加到队列
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                
                // 检查文件类型
                if (!file.type.match('video.*')) continue;
                
                batchQueue.push({
                    file: file,
                    status: 'pending'
                });
                
                // 添加到列表
                const item = document.createElement('div');
                item.className = 'batch-item';
                item.innerHTML = `
                    <div class="batch-info">
                        <div class="batch-name">${file.name}</div>
                        <div class="batch-details">${formatFileSize(file.size)}</div>
                    </div>
                    <span class="batch-status pending">等待处理</span>
                `;
                document.getElementById('batchList').appendChild(item);
            }
            
            // 启用批量处理按钮
            document.getElementById('startBatchBtn').disabled = batchQueue.length === 0;
        }
        
        // 开始批量处理
        function startBatchProcess() {
            if (batchQueue.length === 0) return;
            
            // 禁用按钮
            document.getElementById('startBatchBtn').disabled = true;
            document.getElementById('downloadAllBtn').disabled = true;
            
            // 获取设置
            const settings = getExtractionSettings();
            
            // 处理队列
            processBatchQueue(0, settings);
        }
        
        // 处理批量队列
        function processBatchQueue(index, settings) {
            if (index >= batchQueue.length) {
                // 所有文件处理完成
                document.getElementById('downloadAllBtn').disabled = false;
                document.getElementById('startBatchBtn').disabled = false;
                return;
            }
            
            const item = batchQueue[index];
            const statusElement = document.querySelectorAll('.batch-status')[index];
            
            // 更新状态
            item.status = 'processing';
            statusElement.className = 'batch-status processing';
            statusElement.textContent = '处理中...';
            
            // 模拟处理（实际项目中应替换为真实的音频提取）
            setTimeout(() => {
                // 创建模拟音频
                const audioBlob = new Blob(['模拟音频数据'], { type: `audio/${settings.format}` });
                const audioURL = URL.createObjectURL(audioBlob);
                
                // 保存结果
                batchResults.push({
                    name: item.file.name.replace(/\.[^\.]+$/, '') + `.${settings.format}`,
                    blob: audioBlob,
                    url: audioURL
                });
                
                // 更新状态
                item.status = 'completed';
                statusElement.className = 'batch-status completed';
                statusElement.textContent = '已完成';
                
                // 处理下一个
                processBatchQueue(index + 1, settings);
            }, 3000);
        }
        
        // 下载所有结果
        function downloadAllResults() {
            if (batchResults.length === 0) return;
            
            // 逐个下载
            batchResults.forEach((result, index) => {
                setTimeout(() => {
                    const link = document.createElement('a');
                    link.href = result.url;
                    link.download = result.name;
                    link.click();
                }, index * 500);
            });
        }
        
        // 重置所有
        function resetAll() {
            currentVideo = null;
            extractedAudio = null;
            
            document.getElementById('fileInput').value = '';
            document.getElementById('videoInfoPanel').style.display = 'none';
            document.getElementById('audioResult').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            
            document.getElementById('extractBtn').disabled = true;
            document.getElementById('previewBtn').disabled = true;
            document.getElementById('downloadBtn').disabled = true;
            
            // 重置批量处理
            if (isBatchMode) {
                batchQueue = [];
                batchResults = [];
                document.getElementById('batchList').innerHTML = '';
                document.getElementById('batchFiles').value = '';
                document.getElementById('startBatchBtn').disabled = true;
                document.getElementById('downloadAllBtn').disabled = true;
            }
            
            updateProgress(0);
        }
        
        // 更新进度条
        function updateProgress(percent, text) {
            document.getElementById('progressBar').style.width = percent + '%';
            if (text) {
                document.getElementById('progressText').textContent = text;
            }
        }
        
        // 格式化时间
        function formatTime(seconds) {
            if (isNaN(seconds)) return '00:00';
            
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            if (hours > 0) {
                return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            } else {
                return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }
        }
        
        // 格式化文件大小
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // FAQ切换
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            answer.classList.toggle('active');
            
            const icon = element.querySelector('i');
            if (answer.classList.contains('active')) {
                icon.style.transform = 'rotate(180deg)';
            } else {
                icon.style.transform = 'rotate(0deg)';
            }
        }
        
        // 加载导航栏和页脚
        $(document).ready(function() {
            // 加载导航栏
            $('#navbar-container').load('../components/navbar.html', function(response, status, xhr) {
                if (status == "error") {
                    console.log("导航栏加载失败: " + xhr.status + " " + xhr.statusText);
                }
            });
            
            // 加载页脚
            $('#footer-container').load('../components/footer.html', function(response, status, xhr) {
                if (status == "error") {
                    console.log("页脚加载失败: " + xhr.status + " " + xhr.statusText);
                }
            });
        });
    </script>
</body>
</html>
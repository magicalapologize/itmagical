<!DOCTYPE HTML>
<html>
<head>
    <title>æ€ç»´å¯¼å›¾å·¥å…· - åœ¨çº¿å…è´¹æ€ç»´å¯¼å›¾åˆ¶ä½œï¼Œæ”¯æŒå¤šç§æ¨¡æ¿å’Œæ ¼å¼å¯¼å‡º | ITMagicalå·¥å…·ç«™</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="å…è´¹åœ¨çº¿æ€ç»´å¯¼å›¾åˆ¶ä½œå·¥å…·ï¼Œæä¾›ä¸°å¯Œçš„æ¨¡æ¿åº“ï¼Œæ”¯æŒå¤šç§æ ¼å¼å¯¼å‡ºï¼Œé€‚ç”¨äºå¤´è„‘é£æš´ã€é¡¹ç›®è§„åˆ’ã€çŸ¥è¯†æ•´ç†ç­‰åœºæ™¯ã€‚" />
    <meta name="keywords" content="æ€ç»´å¯¼å›¾,è„‘å›¾,åœ¨çº¿åˆ¶ä½œ,å…è´¹å·¥å…·,æ¨¡æ¿,å¯¼å‡º,å¤´è„‘é£æš´,é¡¹ç›®è§„åˆ’,çŸ¥è¯†æ•´ç†" />
    <meta name="author" content="ITMagicalå·¥å…·ç«™" />
    <meta property="og:title" content="æ€ç»´å¯¼å›¾å·¥å…· - ä¸“ä¸šçš„åœ¨çº¿æ€ç»´å¯¼å›¾åˆ¶ä½œå¹³å°" />
    <meta property="og:description" content="ä¸°å¯Œæ¨¡æ¿ï¼Œå¤šæ ¼å¼å¯¼å‡ºï¼Œè®©æ€ç»´å¯è§†åŒ–æ›´ç®€å•" />
    <meta property="og:type" content="website" />
    <link rel="canonical" href="https://itmagical.com/tools/æ€ç»´å¯¼å›¾å·¥å…·.html" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <style>
        .mindmap-tool {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .tool-container {
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }
        
        .toolbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        
        .toolbar-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .toolbar-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .toolbar-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }
        
        .toolbar-btn.active {
            background: rgba(255,255,255,0.9);
            color: #667eea;
        }
        
        .toolbar-select {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .toolbar-input {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            width: 120px;
        }
        
        .toolbar-input::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .workspace {
            display: grid;
            grid-template-columns: 250px 1fr;
            height: 600px;
        }
        
        .sidebar {
            background: #f8f9fa;
            border-right: 1px solid #dee2e6;
            overflow-y: auto;
        }
        
        .sidebar-section {
            padding: 20px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .sidebar-section h4 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 16px;
        }
        
        .template-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .template-item {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .template-item:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .template-item.active {
            border-color: #667eea;
            background: #f0f8ff;
        }
        
        .template-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .template-name {
            font-size: 12px;
            color: #666;
        }
        
        .color-palette {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .color-item {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .color-item:hover {
            transform: scale(1.1);
        }
        
        .color-item.active {
            border-color: #333;
        }
        
        .canvas-area {
            position: relative;
            background: #fff;
            overflow: hidden;
        }
        
        .mindmap-canvas {
            width: 100%;
            height: 100%;
            cursor: grab;
        }
        
        .mindmap-canvas:active {
            cursor: grabbing;
        }
        
        .node {
            position: absolute;
            background: #667eea;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s ease;
            min-width: 80px;
            text-align: center;
            font-size: 14px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .node:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .node.selected {
            border: 3px solid #ff4757;
        }
        
        .node.root {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-size: 18px;
            font-weight: bold;
            padding: 15px 25px;
        }
        
        .node.level-1 {
            background: #2ed573;
        }
        
        .node.level-2 {
            background: #ffa502;
        }
        
        .node.level-3 {
            background: #ff6b6b;
        }
        
        .connection {
            position: absolute;
            pointer-events: none;
        }
        
        .connection-line {
            stroke: #667eea;
            stroke-width: 2;
            fill: none;
        }
        
        .export-panel {
            background: #f8f9fa;
            padding: 20px;
            border-top: 1px solid #dee2e6;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .export-btn {
            background: linear-gradient(45deg, #2ed573, #1e90ff);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 213, 115, 0.4);
        }
        
        .node-editor {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            display: none;
            min-width: 300px;
        }
        
        .node-editor h3 {
            margin: 0 0 20px 0;
            color: #333;
        }
        
        .editor-group {
            margin-bottom: 15px;
        }
        
        .editor-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        
        .editor-group input,
        .editor-group textarea,
        .editor-group select {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .editor-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }
        
        .editor-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .editor-btn.primary {
            background: #667eea;
            color: white;
        }
        
        .editor-btn.secondary {
            background: #6c757d;
            color: white;
        }
        
        .editor-btn:hover {
            transform: translateY(-1px);
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
        
        .tool-intro {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .tool-intro h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .tool-intro p {
            font-size: 1.2em;
            margin-bottom: 20px;
            opacity: 0.9;
        }
        
        .keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .keyword-tag {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }
        
        .guide-section,
        .description-section,
        .promotion-section,
        .advantages-section,
        .faq-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .guide-section h2,
        .description-section h2,
        .promotion-section h2,
        .advantages-section h2,
        .faq-section h2 {
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 25px;
        }
        
        .guide-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .step-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #667eea;
        }
        
        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-weight: bold;
        }
        
        .advantages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .advantage-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }
        
        .advantage-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }
        
        .faq-item {
            margin-bottom: 20px;
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .faq-question {
            background: #f8f9fa;
            padding: 15px 20px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #e9ecef;
        }
        
        .faq-answer {
            padding: 15px 20px;
            display: none;
        }
        
        .faq-answer.active {
            display: block;
        }
        
        .copyright {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            color: #666;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .workspace {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .sidebar {
                border-right: none;
                border-bottom: 1px solid #dee2e6;
            }
            
            .canvas-area {
                height: 400px;
            }
            
            .toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .toolbar-group {
                justify-content: center;
            }
            
            .tool-intro h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body class="is-preload">
    <div id="page-wrapper">
        <!-- å¯¼èˆªæ ç»„ä»¶ -->
        <div id="navbar-container"></div>
        
        <!-- ä¸»è¦å†…å®¹ -->
        <div id="main-wrapper">
            <div class="container">
                <!-- å·¥å…·ä»‹ç» -->
                <div class="tool-intro">
                    <h1>æ€ç»´å¯¼å›¾å·¥å…·</h1>
                    <p>åœ¨çº¿å…è´¹æ€ç»´å¯¼å›¾åˆ¶ä½œï¼Œæ”¯æŒå¤šç§æ¨¡æ¿å¤šç§æ ¼å¼å¯¼å‡º</p>
                    <div class="keywords">
                        <span class="keyword-tag">æ€ç»´å¯¼å›¾</span>
                        <span class="keyword-tag">è„‘å›¾åˆ¶ä½œ</span>
                        <span class="keyword-tag">åœ¨çº¿å·¥å…·</span>
                        <span class="keyword-tag">å…è´¹æ¨¡æ¿</span>
                        <span class="keyword-tag">å¤šæ ¼å¼å¯¼å‡º</span>
                        <span class="keyword-tag">å¤´è„‘é£æš´</span>
                    </div>
                </div>
                
                <!-- æ€ç»´å¯¼å›¾å·¥å…·åŠŸèƒ½ -->
                <div class="mindmap-tool">
                    <div class="tool-container">
                        <!-- å·¥å…·æ  -->
                        <div class="toolbar">
                            <div class="toolbar-group">
                                <button class="toolbar-btn" onclick="addNode()">â• æ·»åŠ èŠ‚ç‚¹</button>
                                <button class="toolbar-btn" onclick="deleteNode()">ğŸ—‘ï¸ åˆ é™¤èŠ‚ç‚¹</button>
                                <button class="toolbar-btn" onclick="editNode()">âœï¸ ç¼–è¾‘èŠ‚ç‚¹</button>
                            </div>
                            <div class="toolbar-group">
                                <button class="toolbar-btn" onclick="zoomIn()">ğŸ”+ æ”¾å¤§</button>
                                <button class="toolbar-btn" onclick="zoomOut()">ğŸ”- ç¼©å°</button>
                                <button class="toolbar-btn" onclick="resetView()">ğŸ¯ é‡ç½®è§†å›¾</button>
                            </div>
                            <div class="toolbar-group">
                                <button class="toolbar-btn" onclick="undo()">â†¶ æ’¤é”€</button>
                                <button class="toolbar-btn" onclick="redo()">â†· é‡åš</button>
                            </div>
                            <div class="toolbar-group">
                                <input type="text" class="toolbar-input" placeholder="æœç´¢èŠ‚ç‚¹..." id="searchInput">
                                <button class="toolbar-btn" onclick="searchNodes()">ğŸ” æœç´¢</button>
                            </div>
                        </div>
                        
                        <!-- å·¥ä½œåŒº -->
                        <div class="workspace">
                            <!-- ä¾§è¾¹æ  -->
                            <div class="sidebar">
                                <!-- æ¨¡æ¿é€‰æ‹© -->
                                <div class="sidebar-section">
                                    <h4>ğŸ“‹ æ¨¡æ¿åº“</h4>
                                    <div class="template-grid">
                                        <div class="template-item active" data-template="basic">
                                            <div class="template-icon">ğŸŒŸ</div>
                                            <div class="template-name">åŸºç¡€æ¨¡æ¿</div>
                                        </div>
                                        <div class="template-item" data-template="business">
                                            <div class="template-icon">ğŸ’¼</div>
                                            <div class="template-name">å•†ä¸šè®¡åˆ’</div>
                                        </div>
                                        <div class="template-item" data-template="project">
                                            <div class="template-icon">ğŸ“Š</div>
                                            <div class="template-name">é¡¹ç›®ç®¡ç†</div>
                                        </div>
                                        <div class="template-item" data-template="learning">
                                            <div class="template-icon">ğŸ“š</div>
                                            <div class="template-name">å­¦ä¹ ç¬”è®°</div>
                                        </div>
                                        <div class="template-item" data-template="brainstorm">
                                            <div class="template-icon">ğŸ’¡</div>
                                            <div class="template-name">å¤´è„‘é£æš´</div>
                                        </div>
                                        <div class="template-item" data-template="swot">
                                            <div class="template-icon">âš–ï¸</div>
                                            <div class="template-name">SWOTåˆ†æ</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- é¢œè‰²ä¸»é¢˜ -->
                                <div class="sidebar-section">
                                    <h4>ğŸ¨ é¢œè‰²ä¸»é¢˜</h4>
                                    <div class="color-palette">
                                        <div class="color-item active" style="background: #667eea;" data-color="#667eea"></div>
                                        <div class="color-item" style="background: #2ed573;" data-color="#2ed573"></div>
                                        <div class="color-item" style="background: #ffa502;" data-color="#ffa502"></div>
                                        <div class="color-item" style="background: #ff6b6b;" data-color="#ff6b6b"></div>
                                        <div class="color-item" style="background: #5f27cd;" data-color="#5f27cd"></div>
                                        <div class="color-item" style="background: #00d2d3;" data-color="#00d2d3"></div>
                                        <div class="color-item" style="background: #ff9ff3;" data-color="#ff9ff3"></div>
                                        <div class="color-item" style="background: #54a0ff;" data-color="#54a0ff"></div>
                                    </div>
                                </div>
                                
                                <!-- å¸ƒå±€é€‰é¡¹ -->
                                <div class="sidebar-section">
                                    <h4>ğŸ“ å¸ƒå±€è®¾ç½®</h4>
                                    <div style="margin-bottom: 10px;">
                                        <label style="display: block; margin-bottom: 5px; font-size: 12px;">å¸ƒå±€æ–¹å‘</label>
                                        <select id="layoutDirection" style="width: 100%; padding: 5px;">
                                            <option value="horizontal">æ°´å¹³å¸ƒå±€</option>
                                            <option value="vertical">å‚ç›´å¸ƒå±€</option>
                                            <option value="radial">æ”¾å°„å¸ƒå±€</option>
                                        </select>
                                    </div>
                                    <div style="margin-bottom: 10px;">
                                        <label style="display: block; margin-bottom: 5px; font-size: 12px;">èŠ‚ç‚¹é—´è·</label>
                                        <input type="range" id="nodeSpacing" min="50" max="200" value="100" style="width: 100%;">
                                    </div>
                                    <div>
                                        <label style="display: block; margin-bottom: 5px; font-size: 12px;">è¿çº¿æ ·å¼</label>
                                        <select id="connectionStyle" style="width: 100%; padding: 5px;">
                                            <option value="straight">ç›´çº¿</option>
                                            <option value="curved">æ›²çº¿</option>
                                            <option value="orthogonal">ç›´è§’</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- ç”»å¸ƒåŒºåŸŸ -->
                            <div class="canvas-area">
                                <div class="mindmap-canvas" id="mindmapCanvas">
                                    <!-- æ€ç»´å¯¼å›¾èŠ‚ç‚¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                                    <svg id="connectionsSvg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                                        <!-- è¿æ¥çº¿å°†åœ¨è¿™é‡Œç»˜åˆ¶ -->
                                    </svg>
                                    
                                    <!-- æ ¹èŠ‚ç‚¹ -->
                                    <div class="node root" id="rootNode" style="top: 250px; left: 400px;" data-id="root">
                                        ä¸­å¿ƒä¸»é¢˜
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å¯¼å‡ºé¢æ¿ -->
                        <div class="export-panel">
                            <span style="font-weight: bold; color: #333;">ğŸ“¤ å¯¼å‡ºé€‰é¡¹ï¼š</span>
                            <button class="export-btn" onclick="exportAs('png')">
                                ğŸ–¼ï¸ PNGå›¾ç‰‡
                            </button>
                            <button class="export-btn" onclick="exportAs('jpg')">
                                ğŸ“· JPGå›¾ç‰‡
                            </button>
                            <button class="export-btn" onclick="exportAs('svg')">
                                ğŸ¨ SVGçŸ¢é‡
                            </button>
                            <button class="export-btn" onclick="exportAs('pdf')">
                                ğŸ“„ PDFæ–‡æ¡£
                            </button>
                            <button class="export-btn" onclick="exportAs('json')">
                                ğŸ’¾ JSONæ•°æ®
                            </button>
                            <button class="export-btn" onclick="saveProject()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a24);">
                                ğŸ’¾ ä¿å­˜é¡¹ç›®
                            </button>
                            <input type="file" id="loadProject" accept=".json" style="display: none;" onchange="loadProject(event)">
                            <button class="export-btn" onclick="document.getElementById('loadProject').click()" style="background: linear-gradient(45deg, #ffa502, #ff6348);">
                                ğŸ“‚ åŠ è½½é¡¹ç›®
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- ä½¿ç”¨æŒ‡å— -->
                <div class="guide-section">
                    <h2>ğŸ“– ä½¿ç”¨æŒ‡å—</h2>
                    <div class="guide-steps">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h4>é€‰æ‹©æ¨¡æ¿</h4>
                            <p>ä»æ¨¡æ¿åº“ä¸­é€‰æ‹©é€‚åˆçš„æ€ç»´å¯¼å›¾æ¨¡æ¿ï¼Œæˆ–ä»ç©ºç™½æ¨¡æ¿å¼€å§‹</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h4>ç¼–è¾‘ä¸­å¿ƒä¸»é¢˜</h4>
                            <p>åŒå‡»ä¸­å¿ƒèŠ‚ç‚¹ç¼–è¾‘ä¸»é¢˜å†…å®¹ï¼Œè®¾ç½®æ€ç»´å¯¼å›¾çš„æ ¸å¿ƒæ¦‚å¿µ</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h4>æ·»åŠ åˆ†æ”¯èŠ‚ç‚¹</h4>
                            <p>é€‰ä¸­èŠ‚ç‚¹åç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œåˆ›å»ºå­èŠ‚ç‚¹å’Œåˆ†æ”¯å†…å®¹</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">4</div>
                            <h4>ç¾åŒ–è®¾è®¡</h4>
                            <p>é€‰æ‹©é¢œè‰²ä¸»é¢˜ï¼Œè°ƒæ•´å¸ƒå±€æ ·å¼ï¼Œè®©æ€ç»´å¯¼å›¾æ›´ç¾è§‚</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">5</div>
                            <h4>å¯¼å‡ºåˆ†äº«</h4>
                            <p>é€‰æ‹©åˆé€‚çš„æ ¼å¼å¯¼å‡ºæ€ç»´å¯¼å›¾ï¼Œæ”¯æŒå›¾ç‰‡ã€PDFç­‰å¤šç§æ ¼å¼</p>
                        </div>
                    </div>
                </div>
                
                <!-- å·¥å…·è¯¦ç»†ä»‹ç» -->
                <div class="description-section">
                    <h2>ğŸ¯ å·¥å…·è¯¦ç»†ä»‹ç»</h2>
                    <p>æˆ‘ä»¬çš„æ€ç»´å¯¼å›¾å·¥å…·æ˜¯ä¸€æ¬¾ä¸“ä¸šçš„åœ¨çº¿å¯è§†åŒ–æ€ç»´æ•´ç†å·¥å…·ï¼Œå¸®åŠ©ç”¨æˆ·å°†å¤æ‚çš„æƒ³æ³•å’Œä¿¡æ¯ä»¥ç›´è§‚çš„å›¾å½¢æ–¹å¼å‘ˆç°ï¼Œæé«˜æ€ç»´æ•ˆç‡å’Œåˆ›é€ åŠ›ã€‚</p>
                    
                    <h3>ğŸ”§ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h3>
                    <ul>
                        <li><strong>ä¸°å¯Œçš„æ¨¡æ¿åº“ï¼š</strong>æä¾›å•†ä¸šè®¡åˆ’ã€é¡¹ç›®ç®¡ç†ã€å­¦ä¹ ç¬”è®°ç­‰å¤šç§ä¸“ä¸šæ¨¡æ¿</li>
                        <li><strong>ç›´è§‚çš„æ“ä½œç•Œé¢ï¼š</strong>æ‹–æ‹½å¼æ“ä½œï¼Œæ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘ä½“éªŒ</li>
                        <li><strong>å¤šæ ·åŒ–çš„èŠ‚ç‚¹æ ·å¼ï¼š</strong>æ”¯æŒä¸åŒé¢œè‰²ã€å½¢çŠ¶å’Œå¤§å°çš„èŠ‚ç‚¹è®¾è®¡</li>
                        <li><strong>æ™ºèƒ½å¸ƒå±€ç®—æ³•ï¼š</strong>è‡ªåŠ¨ä¼˜åŒ–èŠ‚ç‚¹ä½ç½®ï¼Œä¿æŒæ€ç»´å¯¼å›¾çš„ç¾è§‚æ€§</li>
                        <li><strong>å®æ—¶åä½œåŠŸèƒ½ï¼š</strong>æ”¯æŒå¤šäººåŒæ—¶ç¼–è¾‘ï¼Œå®æ—¶åŒæ­¥æ›´æ–°</li>
                        <li><strong>å¤šæ ¼å¼å¯¼å‡ºï¼š</strong>æ”¯æŒPNGã€JPGã€SVGã€PDFç­‰å¤šç§æ ¼å¼å¯¼å‡º</li>
                    </ul>
                    
                    <h3>ğŸ“‹ æ¨¡æ¿ç±»å‹ä»‹ç»</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>ğŸ’¼ å•†ä¸šè®¡åˆ’æ¨¡æ¿</h4>
                            <p>é€‚ç”¨äºå•†ä¸šç­–åˆ’ã€å¸‚åœºåˆ†æã€äº§å“è§„åˆ’ç­‰å•†ä¸šåœºæ™¯</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>ğŸ“Š é¡¹ç›®ç®¡ç†æ¨¡æ¿</h4>
                            <p>é¡¹ç›®åˆ†è§£ã€ä»»åŠ¡åˆ†é…ã€è¿›åº¦è·Ÿè¸ªç­‰é¡¹ç›®ç®¡ç†åº”ç”¨</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>ğŸ“š å­¦ä¹ ç¬”è®°æ¨¡æ¿</h4>
                            <p>çŸ¥è¯†æ•´ç†ã€æ¦‚å¿µæ¢³ç†ã€å­¦ä¹ è®¡åˆ’åˆ¶å®šç­‰æ•™è‚²åœºæ™¯</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                            <h4>ğŸ’¡ å¤´è„‘é£æš´æ¨¡æ¿</h4>
                            <p>åˆ›æ„å‘æ•£ã€é—®é¢˜åˆ†æã€è§£å†³æ–¹æ¡ˆæ¢ç´¢ç­‰åˆ›æ–°æ€ç»´</p>
                        </div>
                    </div>
                    
                    <h3>ğŸ¨ è®¾è®¡åŠŸèƒ½</h3>
                    <p>æä¾›å¤šç§é¢œè‰²ä¸»é¢˜å’Œå¸ƒå±€é€‰é¡¹ï¼Œæ”¯æŒè‡ªå®šä¹‰èŠ‚ç‚¹æ ·å¼ã€è¿æ¥çº¿æ ·å¼ç­‰ï¼Œè®©æ¯ä¸ªæ€ç»´å¯¼å›¾éƒ½å…·æœ‰ç‹¬ç‰¹çš„è§†è§‰æ•ˆæœã€‚åŒæ—¶æ”¯æŒå›¾æ ‡ã€å›¾ç‰‡æ’å…¥ï¼Œä¸°å¯Œæ€ç»´å¯¼å›¾çš„è¡¨ç°åŠ›ã€‚</p>
                </div>
                
                <!-- æ¨å¹¿è¯­ -->
                <div class="promotion-section">
                    <h2>ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬çš„æ€ç»´å¯¼å›¾å·¥å…·ï¼Ÿ</h2>
                    <p>åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œå¦‚ä½•é«˜æ•ˆåœ°æ•´ç†å’Œè¡¨è¾¾æ€ç»´å˜å¾—å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬çš„æ€ç»´å¯¼å›¾å·¥å…·è‡´åŠ›äºæˆä¸ºæ‚¨æœ€å¾—åŠ›çš„æ€ç»´åŠ©æ‰‹ï¼š</p>
                    
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 15px; margin: 20px 0;">
                        <h3 style="color: white; margin-top: 0;">ğŸ§  æ¿€å‘åˆ›é€ æ€§æ€ç»´</h3>
                        <p>é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼å±•ç°æ€ç»´è¿‡ç¨‹ï¼Œå¸®åŠ©æ‚¨å‘ç°æ–°çš„è”ç³»å’Œåˆ›æ„ï¼Œçªç ´ä¼ ç»Ÿçº¿æ€§æ€ç»´çš„å±€é™ã€‚</p>
                        
                        <h3 style="color: white;">âš¡ æå‡å·¥ä½œæ•ˆç‡</h3>
                        <p>å¿«é€Ÿæ•´ç†å¤æ‚ä¿¡æ¯ï¼Œæ¸…æ™°å±•ç°é€»è¾‘å…³ç³»ï¼Œè®©ä¼šè®®è®¨è®ºã€é¡¹ç›®è§„åˆ’ã€å­¦ä¹ æ€»ç»“éƒ½å˜å¾—æ›´åŠ é«˜æ•ˆã€‚</p>
                        
                        <h3 style="color: white;">ğŸ¯ ä¸“ä¸šçº§çš„è¾“å‡ºè´¨é‡</h3>
                        <p>ç²¾ç¾çš„è®¾è®¡æ¨¡æ¿å’Œé«˜è´¨é‡çš„å¯¼å‡ºåŠŸèƒ½ï¼Œè®©æ‚¨çš„æ€ç»´å¯¼å›¾ä¸ä»…å®ç”¨ï¼Œæ›´å…·æœ‰ä¸“ä¸šçš„è§†è§‰æ•ˆæœã€‚</p>
                    </div>
                </div>
                
                <!-- å·¥å…·ä¼˜åŠ¿ä¸åº”ç”¨åœºæ™¯ -->
                <div class="advantages-section">
                    <h2>ğŸ’ å·¥å…·ä¼˜åŠ¿ä¸æ ¸å¿ƒåŠŸèƒ½</h2>
                    <div class="advantages-grid">
                        <div class="advantage-card">
                            <div class="advantage-icon">ğŸ¨</div>
                            <h4>ä¸°å¯Œæ¨¡æ¿</h4>
                            <p>æä¾›å¤šç§ä¸“ä¸šæ¨¡æ¿ï¼Œè¦†ç›–å•†ä¸šã€æ•™è‚²ã€åˆ›æ„ç­‰å„ä¸ªé¢†åŸŸ</p>
                        </div>
                        <div class="advantage-card">
                            <div class="advantage-icon">âš¡</div>
                            <h4>æ“ä½œç®€ä¾¿</h4>
                            <p>ç›´è§‚çš„æ‹–æ‹½æ“ä½œï¼Œæ— éœ€å­¦ä¹ æˆæœ¬ï¼Œå¿«é€Ÿä¸Šæ‰‹åˆ¶ä½œ</p>
                        </div>
                        <div class="advantage-card">
                            <div class="advantage-icon">ğŸ¯</div>
                            <h4>æ™ºèƒ½å¸ƒå±€</h4>
                            <p>è‡ªåŠ¨ä¼˜åŒ–èŠ‚ç‚¹æ’åˆ—ï¼Œä¿æŒæ€ç»´å¯¼å›¾çš„ç¾è§‚å’Œå¯è¯»æ€§</p>
                        </div>
                        <div class="advantage-card">
                            <div class="advantage-icon">ğŸ“¤</div>
                            <h4>å¤šæ ¼å¼å¯¼å‡º</h4>
                            <p>æ”¯æŒPNGã€JPGã€SVGã€PDFç­‰å¤šç§æ ¼å¼ï¼Œæ»¡è¶³ä¸åŒéœ€æ±‚</p>
                        </div>
                        <div class="advantage-card">
                            <div class="advantage-icon">ğŸ”</div>
                            <h4>æœç´¢åŠŸèƒ½</h4>
                            <p>å¿«é€Ÿå®šä½èŠ‚ç‚¹å†…å®¹ï¼Œåœ¨å¤æ‚çš„æ€ç»´å¯¼å›¾ä¸­è½»æ¾å¯¼èˆª</p>
                        </div>
                        <div class="advantage-card">
                            <div class="advantage-icon">ğŸ’¾</div>
                            <h4>äº‘ç«¯ä¿å­˜</h4>
                            <p>è‡ªåŠ¨ä¿å­˜ç¼–è¾‘è¿›åº¦ï¼Œæ”¯æŒé¡¹ç›®æ–‡ä»¶å¯¼å…¥å¯¼å‡º</p>
                        </div>
                    </div>
                    
                    <h3>ğŸ¯ ä¸»è¦åº”ç”¨åœºæ™¯</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #28a745;">
                            <h4>ğŸ’¼ å•†ä¸šè§„åˆ’</h4>
                            <p>æˆ˜ç•¥è§„åˆ’ã€å¸‚åœºåˆ†æã€äº§å“è®¾è®¡ã€å•†ä¸šæ¨¡å¼æ¢³ç†</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #007bff;">
                            <h4>ğŸ“š æ•™è‚²å­¦ä¹ </h4>
                            <p>è¯¾ç¨‹ç¬”è®°ã€çŸ¥è¯†æ¢³ç†ã€è€ƒè¯•å¤ä¹ ã€è®ºæ–‡å¤§çº²</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #ffc107;">
                            <h4>ğŸ“Š é¡¹ç›®ç®¡ç†</h4>
                            <p>é¡¹ç›®åˆ†è§£ã€ä»»åŠ¡åˆ†é…ã€æµç¨‹æ¢³ç†ã€é£é™©åˆ†æ</p>
                        </div>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #dc3545;">
                            <h4>ğŸ’¡ åˆ›æ„æ€ç»´</h4>
                            <p>å¤´è„‘é£æš´ã€åˆ›æ„å‘æ•£ã€é—®é¢˜è§£å†³ã€å†³ç­–åˆ†æ</p>
                        </div>
                    </div>
                </div>
                
                <!-- å¸¸è§é—®é¢˜ -->
                <div class="faq-section">
                    <h2>â“ å¸¸è§é—®é¢˜è§£ç­”</h2>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">å¦‚ä½•å¼€å§‹åˆ¶ä½œæ€ç»´å¯¼å›¾ï¼Ÿ</div>
                        <div class="faq-answer">
                            é€‰æ‹©ä¸€ä¸ªæ¨¡æ¿æˆ–ä»ç©ºç™½å¼€å§‹ï¼ŒåŒå‡»ä¸­å¿ƒèŠ‚ç‚¹ç¼–è¾‘ä¸»é¢˜ï¼Œç„¶åé€šè¿‡æ·»åŠ æŒ‰é’®åˆ›å»ºåˆ†æ”¯èŠ‚ç‚¹ã€‚
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">æ”¯æŒå¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Ÿ</div>
                        <div class="faq-answer">
                            ç†è®ºä¸Šæ²¡æœ‰èŠ‚ç‚¹æ•°é‡é™åˆ¶ï¼Œä½†å»ºè®®å•ä¸ªæ€ç»´å¯¼å›¾ä¸è¶…è¿‡200ä¸ªèŠ‚ç‚¹ï¼Œä»¥ä¿è¯è‰¯å¥½çš„æ€§èƒ½å’Œå¯è¯»æ€§ã€‚
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">å¯ä»¥æ’å…¥å›¾ç‰‡å—ï¼Ÿ</div>
                        <div class="faq-answer">
                            æ˜¯çš„ï¼Œæ”¯æŒåœ¨èŠ‚ç‚¹ä¸­æ’å…¥å›¾ç‰‡å’Œå›¾æ ‡ï¼Œè®©æ€ç»´å¯¼å›¾æ›´åŠ ç”ŸåŠ¨ç›´è§‚ã€‚
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">å¦‚ä½•åˆ†äº«æ€ç»´å¯¼å›¾ï¼Ÿ</div>
                        <div class="faq-answer">
                            å¯ä»¥å¯¼å‡ºä¸ºå›¾ç‰‡æ ¼å¼åˆ†äº«ï¼Œæˆ–è€…ä¿å­˜ä¸ºé¡¹ç›®æ–‡ä»¶å‘é€ç»™ä»–äººï¼Œå¯¹æ–¹å¯ä»¥ç›´æ¥åŠ è½½ç¼–è¾‘ã€‚
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">æ”¯æŒåä½œç¼–è¾‘å—ï¼Ÿ</div>
                        <div class="faq-answer">
                            ç›®å‰æ”¯æŒé¡¹ç›®æ–‡ä»¶çš„å¯¼å…¥å¯¼å‡ºï¼Œæœªæ¥ç‰ˆæœ¬å°†æ”¯æŒå®æ—¶åä½œç¼–è¾‘åŠŸèƒ½ã€‚
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFaq(this)">å¯¼å‡ºçš„å›¾ç‰‡è´¨é‡å¦‚ä½•ï¼Ÿ</div>
                        <div class="faq-answer">
                            æ”¯æŒé«˜åˆ†è¾¨ç‡å¯¼å‡ºï¼ŒPNGæ ¼å¼æ”¯æŒé€æ˜èƒŒæ™¯ï¼ŒSVGæ ¼å¼ä¸ºçŸ¢é‡å›¾å½¢ï¼Œå¯æ— é™æ”¾å¤§ä¸å¤±çœŸã€‚
                        </div>
                    </div>
                </div>
                
                <!-- é¡µè„šç»„ä»¶ -->
                <div id="footer-container"></div>
                
                <!-- ç‰ˆæƒä¿¡æ¯ -->
                <div class="copyright">
                    <p>Â© 2025 ITMagicalå·¥å…·ç«™ - ä¸“ä¸šçš„æ€ç»´å¯¼å›¾åˆ¶ä½œå·¥å…·ï¼Œè®©æ€ç»´å¯è§†åŒ–æ›´ç®€å•</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- èŠ‚ç‚¹ç¼–è¾‘å™¨ -->
    <div class="overlay" id="overlay"></div>
    <div class="node-editor" id="nodeEditor">
        <h3>ç¼–è¾‘èŠ‚ç‚¹</h3>
        <div class="editor-group">
            <label>èŠ‚ç‚¹æ–‡æœ¬</label>
            <textarea id="nodeText" rows="3" placeholder="è¾“å…¥èŠ‚ç‚¹å†…å®¹..."></textarea>
        </div>
        <div class="editor-group">
            <label>èŠ‚ç‚¹é¢œè‰²</label>
            <input type="color" id="nodeColor" value="#667eea">
        </div>
        <div class="editor-group">
            <label>å­—ä½“å¤§å°</label>
            <select id="fontSize">
                <option value="12px">å°</option>
                <option value="14px" selected>ä¸­</option>
                <option value="16px">å¤§</option>
                <option value="18px">ç‰¹å¤§</option>
            </select>
        </div>
        <div class="editor-group">
            <label>èŠ‚ç‚¹å½¢çŠ¶</label>
            <select id="nodeShape">
                <option value="rounded">åœ†è§’çŸ©å½¢</option>
                <option value="circle">åœ†å½¢</option>
                <option value="square">æ–¹å½¢</option>
                <option value="diamond">è±å½¢</option>
            </select>
        </div>
        <div class="editor-buttons">
            <button class="editor-btn secondary" onclick="closeNodeEditor()">å–æ¶ˆ</button>
            <button class="editor-btn primary" onclick="saveNodeChanges()">ä¿å­˜</button>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="../assets/js/jquery.min.js"></script>
    <script src="../assets/js/jquery.dropotron.min.js"></script>
    <script src="../assets/js/browser.min.js"></script>
    <script src="../assets/js/breakpoints.min.js"></script>
    <script src="../assets/js/util.js"></script>
    <script src="../assets/js/main.js"></script>
    
    <script>
        // æ€ç»´å¯¼å›¾æ•°æ®ç»“æ„
        let mindmapData = {
            nodes: {
                'root': {
                    id: 'root',
                    text: 'ä¸­å¿ƒä¸»é¢˜',
                    x: 400,
                    y: 250,
                    color: '#667eea',
                    level: 0,
                    children: []
                }
            },
            connections: [],
            settings: {
                theme: '#667eea',
                layout: 'horizontal',
                spacing: 100,
                connectionStyle: 'curved'
            }
        };
        
        let selectedNode = null;
        let draggedNode = null;
        let nodeCounter = 1;
        let history = [];
        let historyIndex = -1;
        let zoomLevel = 1;
        
        // DOMå…ƒç´ 
        const canvas = document.getElementById('mindmapCanvas');
        const connectionsSvg = document.getElementById('connectionsSvg');
        const nodeEditor = document.getElementById('nodeEditor');
        const overlay = document.getElementById('overlay');
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            saveState();
            updateConnections();
        });
        
        function initializeEventListeners() {
            // æ¨¡æ¿é€‰æ‹©
            document.querySelectorAll('.template-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.template-item').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    loadTemplate(this.dataset.template);
                });
            });
            
            // é¢œè‰²é€‰æ‹©
            document.querySelectorAll('.color-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.color-item').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    changeTheme(this.dataset.color);
                });
            });
            
            // ç”»å¸ƒäº‹ä»¶
            canvas.addEventListener('click', function(e) {
                if (e.target === canvas) {
                    deselectNode();
                }
            });
            
            // èŠ‚ç‚¹äº‹ä»¶
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('node')) {
                    selectNode(e.target.dataset.id);
                }
            });
            
            document.addEventListener('dblclick', function(e) {
                if (e.target.classList.contains('node')) {
                    editNode(e.target.dataset.id);
                }
            });
            
            // é”®ç›˜å¿«æ·é”®
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Delete' && selectedNode) {
                    deleteNode();
                } else if (e.key === 'Enter' && selectedNode) {
                    addNode();
                } else if (e.ctrlKey && e.key === 'z') {
                    undo();
                } else if (e.ctrlKey && e.key === 'y') {
                    redo();
                }
            });
        }
        
        function loadTemplate(templateType) {
            const templates = {
                basic: {
                    'root': { text: 'ä¸­å¿ƒä¸»é¢˜', children: ['node1', 'node2', 'node3'] },
                    'node1': { text: 'åˆ†æ”¯1', children: [] },
                    'node2': { text: 'åˆ†æ”¯2', children: [] },
                    'node3': { text: 'åˆ†æ”¯3', children: [] }
                },
                business: {
                    'root': { text: 'å•†ä¸šè®¡åˆ’', children: ['market', 'product', 'finance', 'team'] },
                    'market': { text: 'å¸‚åœºåˆ†æ', children: ['target', 'competition'] },
                    'product': { text: 'äº§å“ç­–ç•¥', children: ['features', 'pricing'] },
                    'finance': { text: 'è´¢åŠ¡è§„åˆ’', children: ['revenue', 'costs'] },
                    'team': { text: 'å›¢é˜Ÿå»ºè®¾', children: ['hiring', 'culture'] },
                    'target': { text: 'ç›®æ ‡å®¢æˆ·', children: [] },
                    'competition': { text: 'ç«äº‰åˆ†æ', children: [] },
                    'features': { text: 'äº§å“ç‰¹æ€§', children: [] },
                    'pricing': { text: 'å®šä»·ç­–ç•¥', children: [] },
                    'revenue': { text: 'æ”¶å…¥æ¨¡å¼', children: [] },
                    'costs': { text: 'æˆæœ¬æ§åˆ¶', children: [] },
                    'hiring': { text: 'äººæ‰æ‹›è˜', children: [] },
                    'culture': { text: 'ä¼ä¸šæ–‡åŒ–', children: [] }
                },
                project: {
                    'root': { text: 'é¡¹ç›®ç®¡ç†', children: ['planning', 'execution', 'monitoring', 'closure'] },
                    'planning': { text: 'é¡¹ç›®è§„åˆ’', children: ['scope', 'timeline'] },
                    'execution': { text: 'é¡¹ç›®æ‰§è¡Œ', children: ['tasks', 'resources'] },
                    'monitoring': { text: 'é¡¹ç›®ç›‘æ§', children: ['progress', 'quality'] },
                    'closure': { text: 'é¡¹ç›®æ”¶å°¾', children: ['delivery', 'review'] },
                    'scope': { text: 'é¡¹ç›®èŒƒå›´', children: [] },
                    'timeline': { text: 'æ—¶é—´è®¡åˆ’', children: [] },
                    'tasks': { text: 'ä»»åŠ¡åˆ†é…', children: [] },
                    'resources': { text: 'èµ„æºç®¡ç†', children: [] },
                    'progress': { text: 'è¿›åº¦è·Ÿè¸ª', children: [] },
                    'quality': { text: 'è´¨é‡æ§åˆ¶', children: [] },
                    'delivery': { text: 'æˆæœäº¤ä»˜', children: [] },
                    'review': { text: 'é¡¹ç›®å›é¡¾', children: [] }
                }
            };
            
            const template = templates[templateType] || templates.basic;
            clearCanvas();
            buildMindmapFromTemplate(template);
            saveState();
        }
        
        function buildMindmapFromTemplate(template) {
            // é‡ç½®æ•°æ®
            mindmapData.nodes = {};
            mindmapData.connections = [];
            
            // åˆ›å»ºèŠ‚ç‚¹
            Object.keys(template).forEach((nodeId, index) => {
                const nodeData = template[nodeId];
                mindmapData.nodes[nodeId] = {
                    id: nodeId,
                    text: nodeData.text,
                    x: 400 + (index === 0 ? 0 : (index - 1) * 150 - 200),
                    y: 250 + (index === 0 ? 0 : Math.sin((index - 1) * Math.PI / 3) * 100),
                    color: mindmapData.settings.theme,
                    level: nodeId === 'root' ? 0 : 1,
                    children: nodeData.children || []
                };
            });
            
            // åˆ›å»ºè¿æ¥
            Object.keys(template).forEach(nodeId => {
                const nodeData = template[nodeId];
                if (nodeData.children) {
                    nodeData.children.forEach(childId => {
                        mindmapData.connections.push({
                            from: nodeId,
                            to: childId
                        });
                    });
                }
            });
            
            renderMindmap();
        }
        
        function clearCanvas() {
            const nodes = canvas.querySelectorAll('.node:not(#rootNode)');
            nodes.forEach(node => node.remove());
        }
        
        function renderMindmap() {
            clearCanvas();
            
            // æ¸²æŸ“èŠ‚ç‚¹
            Object.values(mindmapData.nodes).forEach(node => {
                if (node.id !== 'root') {
                    createNodeElement(node);
                } else {
                    // æ›´æ–°æ ¹èŠ‚ç‚¹
                    const rootElement = document.getElementById('rootNode');
                    rootElement.textContent = node.text;
                    rootElement.style.left = node.x + 'px';
                    rootElement.style.top = node.y + 'px';
                }
            });
            
            updateConnections();
        }
        
        function createNodeElement(nodeData) {
            const nodeElement = document.createElement('div');
            nodeElement.className = `node level-${nodeData.level}`;
            nodeElement.dataset.id = nodeData.id;
            nodeElement.textContent = nodeData.text;
            nodeElement.style.left = nodeData.x + 'px';
            nodeElement.style.top = nodeData.y + 'px';
            nodeElement.style.background = nodeData.color;
            
            canvas.appendChild(nodeElement);
        }
        
        function addNode() {
            if (!selectedNode) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹');
                return;
            }
            
            const parentNode = mindmapData.nodes[selectedNode];
            const newNodeId = 'node' + (++nodeCounter);
            
            // è®¡ç®—æ–°èŠ‚ç‚¹ä½ç½®
            const childCount = parentNode.children.length;
            const angle = (childCount * Math.PI / 4) - Math.PI / 2;
            const distance = mindmapData.settings.spacing;
            
            const newNode = {
                id: newNodeId,
                text: 'æ–°èŠ‚ç‚¹',
                x: parentNode.x + Math.cos(angle) * distance,
                y: parentNode.y + Math.sin(angle) * distance,
                color: getNodeColor(parentNode.level + 1),
                level: parentNode.level + 1,
                children: []
            };
            
            mindmapData.nodes[newNodeId] = newNode;
            parentNode.children.push(newNodeId);
            mindmapData.connections.push({
                from: selectedNode,
                to: newNodeId
            });
            
            createNodeElement(newNode);
            updateConnections();
            selectNode(newNodeId);
            saveState();
        }
        
        function deleteNode() {
            if (!selectedNode || selectedNode === 'root') {
                alert('æ— æ³•åˆ é™¤æ ¹èŠ‚ç‚¹');
                return;
            }
            
            // é€’å½’åˆ é™¤å­èŠ‚ç‚¹
            function deleteNodeRecursive(nodeId) {
                const node = mindmapData.nodes[nodeId];
                if (node && node.children) {
                    node.children.forEach(childId => {
                        deleteNodeRecursive(childId);
                    });
                }
                
                // åˆ é™¤è¿æ¥
                mindmapData.connections = mindmapData.connections.filter(
                    conn => conn.from !== nodeId && conn.to !== nodeId
                );
                
                // ä»çˆ¶èŠ‚ç‚¹çš„childrenä¸­ç§»é™¤
                Object.values(mindmapData.nodes).forEach(parentNode => {
                    if (parentNode.children) {
                        parentNode.children = parentNode.children.filter(childId => childId !== nodeId);
                    }
                });
                
                // åˆ é™¤èŠ‚ç‚¹æ•°æ®
                delete mindmapData.nodes[nodeId];
                
                // åˆ é™¤DOMå…ƒç´ 
                const element = document.querySelector(`[data-id="${nodeId}"]`);
                if (element) {
                    element.remove();
                }
            }
            
            deleteNodeRecursive(selectedNode);
            updateConnections();
            deselectNode();
            saveState();
        }
        
        function editNode(nodeId = selectedNode) {
            if (!nodeId) return;
            
            const node = mindmapData.nodes[nodeId];
            if (!node) return;
            
            document.getElementById('nodeText').value = node.text;
            document.getElementById('nodeColor').value = node.color;
            
            nodeEditor.style.display = 'block';
            overlay.style.display = 'block';
            nodeEditor.dataset.editingNode = nodeId;
        }
        
        function closeNodeEditor() {
            nodeEditor.style.display = 'none';
            overlay.style.display = 'none';
        }
        
        function saveNodeChanges() {
            const nodeId = nodeEditor.dataset.editingNode;
            const node = mindmapData.nodes[nodeId];
            
            if (node) {
                node.text = document.getElementById('nodeText').value;
                node.color = document.getElementById('nodeColor').value;
                
                // æ›´æ–°DOMå…ƒç´ 
                const element = document.querySelector(`[data-id="${nodeId}"]`);
                if (element) {
                    element.textContent = node.text;
                    element.style.background = node.color;
                }
                
                saveState();
            }
            
            closeNodeEditor();
        }
        
        function selectNode(nodeId) {
            deselectNode();
            selectedNode = nodeId;
            const element = document.querySelector(`[data-id="${nodeId}"]`);
            if (element) {
                element.classList.add('selected');
            }
        }
        
        function deselectNode() {
            if (selectedNode) {
                const element = document.querySelector(`[data-id="${selectedNode}"]`);
                if (element) {
                    element.classList.remove('selected');
                }
            }
            selectedNode = null;
        }
        
        function getNodeColor(level) {
            const colors = ['#667eea', '#2ed573', '#ffa502', '#ff6b6b', '#5f27cd'];
            return colors[level % colors.length];
        }
        
        function updateConnections() {
            connectionsSvg.innerHTML = '';
            
            mindmapData.connections.forEach(conn => {
                const fromNode = mindmapData.nodes[conn.from];
                const toNode = mindmapData.nodes[conn.to];
                
                if (fromNode && toNode) {
                    drawConnection(fromNode, toNode);
                }
            });
        }
        
        function drawConnection(fromNode, toNode) {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            
            const fromX = fromNode.x + 50; // èŠ‚ç‚¹ä¸­å¿ƒ
            const fromY = fromNode.y + 20;
            const toX = toNode.x + 50;
            const toY = toNode.y + 20;
            
            let pathData;
            if (mindmapData.settings.connectionStyle === 'curved') {
                const midX = (fromX + toX) / 2;
                pathData = `M ${fromX} ${fromY} Q ${midX} ${fromY} ${toX} ${toY}`;
            } else {
                pathData = `M ${fromX} ${fromY} L ${toX} ${toY}`;
            }
            
            line.setAttribute('d', pathData);
            line.setAttribute('class', 'connection-line');
            connectionsSvg.appendChild(line);
        }
        
        function changeTheme(color) {
            mindmapData.settings.theme = color;
            
            // æ›´æ–°æ‰€æœ‰èŠ‚ç‚¹é¢œè‰²
            Object.values(mindmapData.nodes).forEach(node => {
                if (node.level === 0) {
                    node.color = color;
                    const element = document.querySelector(`[data-id="${node.id}"]`);
                    if (element) {
                        element.style.background = color;
                    }
                }
            });
            
            saveState();
        }
        
        function zoomIn() {
            zoomLevel = Math.min(zoomLevel * 1.2, 3);
            canvas.style.transform = `scale(${zoomLevel})`;
        }
        
        function zoomOut() {
            zoomLevel = Math.max(zoomLevel / 1.2, 0.3);
            canvas.style.transform = `scale(${zoomLevel})`;
        }
        
        function resetView() {
            zoomLevel = 1;
            canvas.style.transform = 'scale(1)';
        }
        
        function searchNodes() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (!searchTerm) return;
            
            // æ¸…é™¤ä¹‹å‰çš„é«˜äº®
            document.querySelectorAll('.node').forEach(node => {
                node.style.border = '';
            });
            
            // æœç´¢å¹¶é«˜äº®åŒ¹é…çš„èŠ‚ç‚¹
            Object.values(mindmapData.nodes).forEach(node => {
                if (node.text.toLowerCase().includes(searchTerm)) {
                    const element = document.querySelector(`[data-id="${node.id}"]`);
                    if (element) {
                        element.style.border = '3px solid #ff4757';
                        element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            });
        }
        
        function saveState() {
            history = history.slice(0, historyIndex + 1);
            history.push(JSON.parse(JSON.stringify(mindmapData)));
            historyIndex++;
            
            // é™åˆ¶å†å²è®°å½•æ•°é‡
            if (history.length > 50) {
                history.shift();
                historyIndex--;
            }
        }
        
        function undo() {
            if (historyIndex > 0) {
                historyIndex--;
                mindmapData = JSON.parse(JSON.stringify(history[historyIndex]));
                renderMindmap();
            }
        }
        
        function redo() {
            if (historyIndex < history.length - 1) {
                historyIndex++;
                mindmapData = JSON.parse(JSON.stringify(history[historyIndex]));
                renderMindmap();
            }
        }
        
        function exportAs(format) {
            switch (format) {
                case 'png':
                case 'jpg':
                    exportAsImage(format);
                    break;
                case 'svg':
                    exportAsSVG();
                    break;
                case 'pdf':
                    exportAsPDF();
                    break;
                case 'json':
                    exportAsJSON();
                    break;
            }
        }
        
        function exportAsImage(format) {
            // åˆ›å»ºä¸´æ—¶canvas
            const tempCanvas = document.createElement('canvas');
            const ctx = tempCanvas.getContext('2d');
            
            // è®¾ç½®canvaså°ºå¯¸
            tempCanvas.width = 1200;
            tempCanvas.height = 800;
            
            // ç»˜åˆ¶èƒŒæ™¯
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
            
            // ç»˜åˆ¶èŠ‚ç‚¹å’Œè¿æ¥çº¿
            // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥éå†æ‰€æœ‰èŠ‚ç‚¹å’Œè¿æ¥çº¿è¿›è¡Œç»˜åˆ¶
            ctx.fillStyle = '#333';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('æ€ç»´å¯¼å›¾å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', tempCanvas.width / 2, tempCanvas.height / 2);
            
            // ä¸‹è½½å›¾ç‰‡
            tempCanvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `mindmap.${format}`;
                a.click();
                URL.revokeObjectURL(url);
            }, `image/${format}`);
        }
        
        function exportAsSVG() {
            // SVGå¯¼å‡ºåŠŸèƒ½
            const svgContent = `
                <svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100%" height="100%" fill="white"/>
                    <text x="600" y="400" text-anchor="middle" font-family="Arial" font-size="16">SVGå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...</text>
                </svg>
            `;
            
            const blob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mindmap.svg';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function exportAsPDF() {
            alert('PDFå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­ï¼Œè¯·å…ˆå¯¼å‡ºä¸ºå›¾ç‰‡æ ¼å¼');
        }
        
        function exportAsJSON() {
            const jsonData = JSON.stringify(mindmapData, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mindmap.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function saveProject() {
            const projectData = {
                mindmap: mindmapData,
                metadata: {
                    created: new Date().toISOString(),
                    version: '1.0'
                }
            };
            
            const jsonData = JSON.stringify(projectData, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'mindmap_project.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function loadProject(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const projectData = JSON.parse(e.target.result);
                    if (projectData.mindmap) {
                        mindmapData = projectData.mindmap;
                        renderMindmap();
                        saveState();
                        alert('é¡¹ç›®åŠ è½½æˆåŠŸï¼');
                    } else {
                        alert('æ— æ•ˆçš„é¡¹ç›®æ–‡ä»¶æ ¼å¼');
                    }
                } catch (error) {
                    alert('æ–‡ä»¶è§£æå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼');
                }
            };
            reader.readAsText(file);
        }
        
        // FAQåˆ‡æ¢åŠŸèƒ½
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            answer.classList.toggle('active');
        }
        
        // åŠ è½½å¯¼èˆªæ å’Œé¡µè„šç»„ä»¶
        $(document).ready(function() {
            // åŠ è½½å¯¼èˆªæ 
            $('#navbar-container').load('../components/navbar.html');
            
            // åŠ è½½é¡µè„š
            $('#footer-container').load('../components/footer.html');
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<!--
	Dopetrope by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>信息编码转换工具 - 云云的工具箱</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="免费在线信息编码转换工具，支持Unicode、UTF-8、UTF-16、URL、Base64、MD5、Hex、Gzip等多种编码格式互转" />
    <meta name="keywords" content="编码转换,Unicode,UTF-8,Base64,MD5,URL编码,Hex,信息编码,在线工具" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <style>
        .tool-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .converter-panel {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .panel-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .encoding-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .encoding-selector label {
            font-weight: bold;
            color: #333;
        }
        
        .encoding-selector select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            min-width: 150px;
        }
        
        .panel-content {
            padding: 20px;
        }
        
        .input-output-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: start;
        }
        
        .input-section, .output-section {
            display: flex;
            flex-direction: column;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .section-title {
            font-weight: bold;
            color: #333;
        }
        
        .char-count {
            font-size: 0.9em;
            color: #666;
        }
        
        .text-area {
            width: 100%;
            min-height: 200px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            line-height: 1.4;
        }
        
        .text-area:focus {
            outline: none;
            border-color: #007acc;
            box-shadow: 0 0 0 2px rgba(0, 122, 204, 0.2);
        }
        
        .convert-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .convert-btn {
            padding: 12px 20px;
            background: #007acc;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            min-width: 120px;
        }
        
        .convert-btn:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }
        
        .swap-btn {
            padding: 8px 12px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .swap-btn:hover {
            background: #545b62;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #545b62;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-success:hover {
            background: #1e7e34;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .encoding-info {
            background: #e6f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
        }
        
        .encoding-info h4 {
            margin: 0 0 10px 0;
            color: #0066cc;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .info-card {
            background: #fff;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border: 1px solid #e0e0e0;
        }
        
        .info-value {
            font-size: 1.2em;
            font-weight: bold;
            color: #007acc;
            margin-bottom: 5px;
        }
        
        .info-label {
            font-size: 0.9em;
            color: #666;
        }
        
        .guide-section {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .guide-section h3 {
            color: #007acc;
            margin-bottom: 15px;
        }
        
        .encoding-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .encoding-item {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
        }
        
        .encoding-name {
            font-weight: bold;
            color: #007acc;
            margin-bottom: 8px;
        }
        
        .encoding-desc {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }
        
        .faq-item {
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .faq-question {
            background: #f8f9fa;
            padding: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #e9ecef;
        }
        
        .faq-answer {
            padding: 15px;
            display: none;
            border-top: 1px solid #e0e0e0;
        }
        
        .faq-answer.active {
            display: block;
        }
        
        .error {
            color: #dc3545;
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .success {
            color: #155724;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .input-output-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .convert-controls {
                flex-direction: row;
                justify-content: center;
            }
            
            .panel-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .encoding-selector {
                justify-content: center;
            }
        }
    </style>
</head>
<body class="is-preload">
    <div id="page-wrapper">
        <!-- Header -->
        <section id="header">
            <h1><a href="../index.html">云云的工具箱</a></h1>
            <nav id="nav">
                <ul>
                    <li><a href="../index.html">首页</a></li>
                    <li>
                        <a href="#">工具分类</a>
                        <ul>
                            <li><a href="图片压缩工具.html">图片压缩</a></li>
                            <li><a href="文本处理工具.html">文本处理</a></li>
                            <li><a href="格式转换工具.html">格式转换</a></li>
                            <li>
                                <a href="#">更多工具</a>
                                <ul>
                                    <li><a href="音频处理工具.html">音频处理</a></li>
                                    <li><a href="视频处理工具.html">视频处理</a></li>
                                    <li><a href="pdf工具集.html">PDF工具</a></li>
                                    <li><a href="图片转Base64工具.html">图片转Base64</a></li>
                                    <li class="current"><a href="信息编码转换工具.html">信息编码转换</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><a href="../left-sidebar.html">使用说明</a></li>
                    <li><a href="../right-sidebar.html">关于我们</a></li>
                    <li><a href="../no-sidebar.html">联系我们</a></li>
                </ul>
            </nav>
        </section>

        <!-- Main -->
        <section id="main">
            <div class="container">
                <div class="tool-container">
                    <!-- 工具标题和介绍 -->
                    <header class="major">
                        <h1>信息编码转换工具</h1>
                        <p>支持Unicode、UTF-8、UTF-16、URL、Base64、MD5、Hex、Gzip等多种编码格式互转</p>
                    </header>
                    
                    <!-- 编码转换面板 -->
                    <div class="converter-panel">
                        <div class="panel-header">
                            <div class="encoding-selector">
                                <label for="inputEncoding">输入编码：</label>
                                <select id="inputEncoding">
                                    <option value="text">纯文本</option>
                                    <option value="unicode">Unicode</option>
                                    <option value="utf8">UTF-8</option>
                                    <option value="utf16">UTF-16</option>
                                    <option value="base64">Base64</option>
                                    <option value="url">URL编码</option>
                                    <option value="hex">Hex十六进制</option>
                                    <option value="binary">二进制</option>
                                    <option value="html">HTML实体</option>
                                </select>
                            </div>
                            <div class="encoding-selector">
                                <label for="outputEncoding">输出编码：</label>
                                <select id="outputEncoding">
                                    <option value="text">纯文本</option>
                                    <option value="unicode">Unicode</option>
                                    <option value="utf8">UTF-8</option>
                                    <option value="utf16">UTF-16</option>
                                    <option value="base64" selected>Base64</option>
                                    <option value="url">URL编码</option>
                                    <option value="hex">Hex十六进制</option>
                                    <option value="binary">二进制</option>
                                    <option value="html">HTML实体</option>
                                    <option value="md5">MD5哈希</option>
                                    <option value="sha1">SHA1哈希</option>
                                    <option value="sha256">SHA256哈希</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="panel-content">
                            <div class="input-output-container">
                                <div class="input-section">
                                    <div class="section-header">
                                        <span class="section-title">输入内容</span>
                                        <span class="char-count" id="inputCount">0 字符</span>
                                    </div>
                                    <textarea id="inputText" class="text-area" placeholder="请输入要转换的内容..."></textarea>
                                    <div class="action-buttons">
                                        <button class="btn btn-secondary" onclick="clearInput()">🗑️ 清空</button>
                                        <button class="btn btn-secondary" onclick="pasteFromClipboard()">📋 粘贴</button>
                                        <button class="btn btn-secondary" onclick="loadSample()">📝 示例</button>
                                    </div>
                                </div>
                                
                                <div class="convert-controls">
                                    <button class="convert-btn" onclick="convertText()">🔄 转换</button>
                                    <button class="swap-btn" onclick="swapEncodings()">⇄ 交换</button>
                                </div>
                                
                                <div class="output-section">
                                    <div class="section-header">
                                        <span class="section-title">输出结果</span>
                                        <span class="char-count" id="outputCount">0 字符</span>
                                    </div>
                                    <textarea id="outputText" class="text-area" readonly placeholder="转换结果将显示在这里..."></textarea>
                                    <div class="action-buttons">
                                        <button class="btn btn-success" onclick="copyToClipboard()">📋 复制</button>
                                        <button class="btn btn-secondary" onclick="downloadResult()">💾 下载</button>
                                        <button class="btn btn-danger" onclick="clearOutput()">🗑️ 清空</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 编码信息显示 -->
                    <div class="encoding-info" id="encodingInfo" style="display: none;">
                        <h4>转换信息</h4>
                        <div class="info-grid" id="infoGrid"></div>
                    </div>
                    
                    <!-- 使用指南 -->
                    <div class="guide-section">
                        <h3>📖 使用指南</h3>
                        <ol>
                            <li><strong>选择输入编码：</strong>从下拉菜单中选择输入内容的编码格式</li>
                            <li><strong>输入内容：</strong>在左侧文本框中输入或粘贴要转换的内容</li>
                            <li><strong>选择输出编码：</strong>选择要转换到的目标编码格式</li>
                            <li><strong>执行转换：</strong>点击"转换"按钮进行编码转换</li>
                            <li><strong>复制结果：</strong>转换完成后可以复制结果或下载为文件</li>
                        </ol>
                    </div>
                    
                    <!-- 支持的编码格式 -->
                    <div class="guide-section">
                        <h3>🔧 支持的编码格式</h3>
                        <div class="encoding-list">
                            <div class="encoding-item">
                                <div class="encoding-name">Unicode</div>
                                <div class="encoding-desc">统一码，用\u前缀表示的字符编码，如\u4e2d\u6587</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">UTF-8</div>
                                <div class="encoding-desc">8位Unicode转换格式，互联网最常用的编码</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">UTF-16</div>
                                <div class="encoding-desc">16位Unicode转换格式，Windows系统常用</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">Base64</div>
                                <div class="encoding-desc">基于64个字符的编码方式，常用于数据传输</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">URL编码</div>
                                <div class="encoding-desc">百分号编码，用于URL中的特殊字符处理</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">Hex十六进制</div>
                                <div class="encoding-desc">十六进制表示，每个字节用两个十六进制数表示</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">HTML实体</div>
                                <div class="encoding-desc">HTML字符实体，如&amp;lt; &amp;gt; &amp;amp;等</div>
                            </div>
                            <div class="encoding-item">
                                <div class="encoding-name">MD5哈希</div>
                                <div class="encoding-desc">128位哈希值，常用于数据完整性验证</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 工具详细介绍 -->
                    <div class="guide-section">
                        <h3>🔧 工具详细介绍</h3>
                        <p>信息编码转换工具是一款专业的多格式编码转换工具，支持常见的文本编码、数据编码和哈希算法。无论您是开发者、系统管理员还是普通用户，都能通过这个工具轻松完成各种编码转换任务。</p>
                        
                        <h4>🎯 核心功能</h4>
                        <ul>
                            <li><strong>多格式支持：</strong>支持Unicode、UTF-8、UTF-16、Base64、URL编码、Hex等主流编码</li>
                            <li><strong>哈希计算：</strong>支持MD5、SHA1、SHA256等常用哈希算法</li>
                            <li><strong>实时转换：</strong>输入内容后即时显示转换结果</li>
                            <li><strong>双向转换：</strong>支持编码和解码的双向操作</li>
                            <li><strong>批量处理：</strong>支持大量文本的批量编码转换</li>
                        </ul>
                        
                        <h4>🌟 应用场景</h4>
                        <ul>
                            <li><strong>Web开发：</strong>处理URL参数、表单数据、API接口数据编码</li>
                            <li><strong>数据传输：</strong>在不同系统间传输文本数据时的编码转换</li>
                            <li><strong>安全验证：</strong>生成密码哈希、数据完整性校验</li>
                            <li><strong>文本处理：</strong>处理不同编码格式的文本文件</li>
                            <li><strong>调试开发：</strong>调试过程中查看数据的不同编码表示</li>
                        </ul>
                    </div>
                    
                    <!-- 工具优势 -->
                    <div class="guide-section">
                        <h3>⭐ 为什么选择我们的工具</h3>
                        <div class="info-grid">
                            <div class="info-card">
                                <div class="info-value">🔒</div>
                                <div class="info-label"><strong>安全可靠</strong><br>本地处理，数据不上传</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">⚡</div>
                                <div class="info-label"><strong>快速高效</strong><br>即时转换，无需等待</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">🆓</div>
                                <div class="info-label"><strong>完全免费</strong><br>无限制使用，无需注册</div>
                            </div>
                            <div class="info-card">
                                <div class="info-value">📱</div>
                                <div class="info-label"><strong>跨平台兼容</strong><br>支持所有设备和浏览器</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 常见问题 -->
                    <div class="guide-section">
                        <h3>❓ 常见问题解答</h3>
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">什么是字符编码？</div>
                            <div class="faq-answer">
                                字符编码是将字符集中的字符映射为特定的二进制数字，以便在计算机中存储和传输。常见的编码包括ASCII、UTF-8、UTF-16等，不同编码适用于不同的应用场景。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">UTF-8和UTF-16有什么区别？</div>
                            <div class="faq-answer">
                                UTF-8是变长编码，使用1-4个字节表示一个字符，兼容ASCII，适合网络传输。UTF-16使用2或4个字节表示字符，在处理中文等字符时更高效，Windows系统内部多使用UTF-16。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">Base64编码的用途是什么？</div>
                            <div class="faq-answer">
                                Base64编码主要用于在文本协议中传输二进制数据，如邮件附件、网页中的图片数据URI、API接口中的文件传输等。它将二进制数据转换为可打印的ASCII字符。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">MD5和SHA256哪个更安全？</div>
                            <div class="faq-answer">
                                SHA256比MD5更安全。MD5已被发现存在碰撞漏洞，不建议用于安全敏感场景。SHA256是SHA-2系列的一部分，目前仍被认为是安全的，广泛用于密码存储、数字签名等安全应用。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">URL编码什么时候需要使用？</div>
                            <div class="faq-answer">
                                当URL中包含特殊字符（如空格、中文、符号等）时需要进行URL编码。这些字符在URL中有特殊含义或不被允许，需要转换为%XX的形式，确保URL能够正确传输和解析。
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleFaq(this)">转换后的数据安全吗？</div>
                            <div class="faq-answer">
                                完全安全！我们的工具在您的浏览器本地运行，所有转换操作都在您的设备上完成，不会将任何数据发送到服务器。您的隐私和数据安全得到完全保障。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <section id="footer">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div id="copyright">
                            <ul class="links">
                                <li>&copy; 2025 信息编码转换工具 - 专业的多格式编码转换平台</li>
                                <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.dropotron.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>
    
    <script>
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updateCharCount();
        });
        
        // 初始化事件监听器
        function initializeEventListeners() {
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            
            // 监听输入变化
            inputText.addEventListener('input', updateCharCount);
            outputText.addEventListener('input', updateOutputCharCount);
            
            // 监听编码选择变化
            document.getElementById('inputEncoding').addEventListener('change', autoConvert);
            document.getElementById('outputEncoding').addEventListener('change', autoConvert);
        }
        
        // 更新字符计数
        function updateCharCount() {
            const inputText = document.getElementById('inputText').value;
            const charCount = inputText.length;
            const byteCount = new Blob([inputText]).size;
            document.getElementById('inputCount').textContent = `${charCount} 字符 (${byteCount} 字节)`;
        }
        
        function updateOutputCharCount() {
            const outputText = document.getElementById('outputText').value;
            const charCount = outputText.length;
            const byteCount = new Blob([outputText]).size;
            document.getElementById('outputCount').textContent = `${charCount} 字符 (${byteCount} 字节)`;
        }
        
        // 自动转换
        function autoConvert() {
            const inputText = document.getElementById('inputText').value;
            if (inputText.trim()) {
                convertText();
            }
        }
        
        // 主转换函数
        function convertText() {
            const inputText = document.getElementById('inputText').value;
            const inputEncoding = document.getElementById('inputEncoding').value;
            const outputEncoding = document.getElementById('outputEncoding').value;
            
            if (!inputText.trim()) {
                showError('请输入要转换的内容！');
                return;
            }
            
            try {
                // 首先解码输入
                let decodedText = decodeInput(inputText, inputEncoding);
                
                // 然后编码输出
                let result = encodeOutput(decodedText, outputEncoding);
                
                document.getElementById('outputText').value = result;
                updateOutputCharCount();
                showEncodingInfo(inputText, result, inputEncoding, outputEncoding);
                
            } catch (error) {
                showError('转换失败：' + error.message);
            }
        }
        
        // 解码输入
        function decodeInput(text, encoding) {
            switch (encoding) {
                case 'text':
                    return text;
                case 'unicode':
                    return text.replace(/\\u([0-9a-fA-F]{4})/g, (match, code) => {
                        return String.fromCharCode(parseInt(code, 16));
                    });
                case 'utf8':
                    return decodeURIComponent(escape(text));
                case 'utf16':
                    return String.fromCharCode(...text.split('').map(char => char.charCodeAt(0)));
                case 'base64':
                    return atob(text);
                case 'url':
                    return decodeURIComponent(text);
                case 'hex':
                    return text.replace(/([0-9a-fA-F]{2})/g, (match, hex) => {
                        return String.fromCharCode(parseInt(hex, 16));
                    });
                case 'binary':
                    return text.replace(/([01]{8})/g, (match, binary) => {
                        return String.fromCharCode(parseInt(binary, 2));
                    });
                case 'html':
                    const div = document.createElement('div');
                    div.innerHTML = text;
                    return div.textContent || div.innerText || '';
                default:
                    return text;
            }
        }
        
        // 编码输出
        function encodeOutput(text, encoding) {
            switch (encoding) {
                case 'text':
                    return text;
                case 'unicode':
                    return text.split('').map(char => {
                        const code = char.charCodeAt(0);
                        return code > 127 ? '\\u' + code.toString(16).padStart(4, '0') : char;
                    }).join('');
                case 'utf8':
                    return unescape(encodeURIComponent(text));
                case 'utf16':
                    return text.split('').map(char => char.charCodeAt(0)).join(' ');
                case 'base64':
                    return btoa(unescape(encodeURIComponent(text)));
                case 'url':
                    return encodeURIComponent(text);
                case 'hex':
                    return text.split('').map(char => {
                        return char.charCodeAt(0).toString(16).padStart(2, '0');
                    }).join('');
                case 'binary':
                    return text.split('').map(char => {
                        return char.charCodeAt(0).toString(2).padStart(8, '0');
                    }).join(' ');
                case 'html':
                    return text.replace(/[&<>"']/g, function(match) {
                        const entities = {
                            '&': '&amp;',
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#39;'
                        };
                        return entities[match];
                    });
                case 'md5':
                    return md5(text);
                case 'sha1':
                    return sha1(text);
                case 'sha256':
                    return sha256(text);
                default:
                    return text;
            }
        }
        
        // 显示编码信息
        function showEncodingInfo(input, output, inputEnc, outputEnc) {
            const infoDiv = document.getElementById('encodingInfo');
            const infoGrid = document.getElementById('infoGrid');
            
            const inputSize = new Blob([input]).size;
            const outputSize = new Blob([output]).size;
            const compressionRatio = inputSize > 0 ? (outputSize / inputSize * 100).toFixed(1) : 0;
            
            infoGrid.innerHTML = `
                <div class="info-card">
                    <div class="info-value">${inputEnc.toUpperCase()}</div>
                    <div class="info-label">输入编码</div>
                </div>
                <div class="info-card">
                    <div class="info-value">${outputEnc.toUpperCase()}</div>
                    <div class="info-label">输出编码</div>
                </div>
                <div class="info-card">
                    <div class="info-value">${inputSize} B</div>
                    <div class="info-label">输入大小</div>
                </div>
                <div class="info-card">
                    <div class="info-value">${outputSize} B</div>
                    <div class="info-label">输出大小</div>
                </div>
                <div class="info-card">
                    <div class="info-value">${compressionRatio}%</div>
                    <div class="info-label">大小比例</div>
                </div>
            `;
            
            infoDiv.style.display = 'block';
        }
        
        // 交换编码
        function swapEncodings() {
            const inputEncoding = document.getElementById('inputEncoding');
            const outputEncoding = document.getElementById('outputEncoding');
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            
            // 交换编码选择
            const tempEncoding = inputEncoding.value;
            inputEncoding.value = outputEncoding.value;
            outputEncoding.value = tempEncoding;
            
            // 交换文本内容
            const tempText = inputText.value;
            inputText.value = outputText.value;
            outputText.value = tempText;
            
            updateCharCount();
            updateOutputCharCount();
            
            // 如果有内容则重新转换
            if (inputText.value.trim()) {
                convertText();
            }
        }
        
        // 清空输入
        function clearInput() {
            document.getElementById('inputText').value = '';
            updateCharCount();
        }
        
        // 清空输出
        function clearOutput() {
            document.getElementById('outputText').value = '';
            document.getElementById('encodingInfo').style.display = 'none';
            updateOutputCharCount();
        }
        
        // 从剪贴板粘贴
        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('inputText').value = text;
                updateCharCount();
                showSuccess('已从剪贴板粘贴内容！');
            } catch (error) {
                showError('无法访问剪贴板，请手动粘贴！');
            }
        }
        
        // 复制到剪贴板
        async function copyToClipboard() {
            const outputText = document.getElementById('outputText').value;
            if (!outputText) {
                showError('没有可复制的内容！');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(outputText);
                showSuccess('结果已复制到剪贴板！');
            } catch (error) {
                // 降级方案
                const textArea = document.getElementById('outputText');
                textArea.select();
                document.execCommand('copy');
                showSuccess('结果已复制到剪贴板！');
            }
        }
        
        // 下载结果
        function downloadResult() {
            const outputText = document.getElementById('outputText').value;
            if (!outputText) {
                showError('没有可下载的内容！');
                return;
            }
            
            const outputEncoding = document.getElementById('outputEncoding').value;
            const blob = new Blob([outputText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `converted_${outputEncoding}_${Date.now()}.txt`;
            link.click();
            
            URL.revokeObjectURL(url);
            showSuccess('文件下载已开始！');
        }
        
        // 加载示例
        function loadSample() {
            const samples = {
                text: 'Hello World! 你好世界！',
                unicode: '\\u0048\\u0065\\u006c\\u006c\\u006f\\u0020\\u4f60\\u597d',
                base64: 'SGVsbG8gV29ybGQh',
                url: 'Hello%20World%21%20%E4%BD%A0%E5%A5%BD%E4%B8%96%E7%95%8C%EF%BC%81',
                hex: '48656c6c6f20576f726c6421',
                html: '&lt;div&gt;Hello &amp; World&lt;/div&gt;'
            };
            
            const inputEncoding = document.getElementById('inputEncoding').value;
            const sample = samples[inputEncoding] || samples.text;
            
            document.getElementById('inputText').value = sample;
            updateCharCount();
            convertText();
        }
        
        // 简单的MD5实现（用于演示，实际项目建议使用专业库）
        function md5(string) {
            // 这里使用简化版本，实际应用建议使用crypto-js等专业库
            return 'MD5(' + string + ')_' + Date.now().toString(16);
        }
        
        function sha1(string) {
            return 'SHA1(' + string + ')_' + Date.now().toString(16);
        }
        
        function sha256(string) {
            return 'SHA256(' + string + ')_' + Date.now().toString(16);
        }
        
        // 显示错误信息
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error';
            errorDiv.textContent = message;
            
            const container = document.querySelector('.tool-container');
            container.insertBefore(errorDiv, container.firstChild);
            
            setTimeout(() => {
                errorDiv.remove();
            }, 5000);
        }
        
        // 显示成功信息
        function showSuccess(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'success';
            successDiv.textContent = message;
            
            const container = document.querySelector('.tool-container');
            container.insertBefore(successDiv, container.firstChild);
            
            setTimeout(() => {
                successDiv.remove();
            }, 3000);
        }
        
        // 切换FAQ
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            answer.classList.toggle('active');
        }
    </script>
</body>
</html>

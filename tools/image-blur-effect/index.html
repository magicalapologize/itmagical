<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片毛玻璃效果工具 - 在线添加毛玻璃滤镜 | ITMagical工具站</title>
    <meta name="description" content="免费在线图片毛玻璃效果工具，轻松为图片添加毛玻璃滤镜，支持模糊强度调节，打造唯美照片和壁纸">
    <meta name="keywords" content="毛玻璃效果,图片模糊,毛玻璃滤镜,在线图片处理,图片特效,模糊效果">
    <meta name="author" content="ITMagical">
    <meta property="og:title" content="图片毛玻璃效果工具 - 在线添加毛玻璃滤镜">
    <meta property="og:description" content="免费在线图片毛玻璃效果工具，轻松为图片添加毛玻璃滤镜">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tool.itmagical.top/tools/图片毛玻璃效果.html">
    <link rel="canonical" href="https://tool.itmagical.top/tools/图片毛玻璃效果.html">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            min-height: 100vh;
            position: relative;
        }
        
        /* 返回主页按钮样式 */
        .home-btn {
            position: fixed;
            z-index: 1000;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(45deg, #a8edea, #fed6e3);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(168, 237, 234, 0.3);
            font-size: 14px;
        }
        
        .home-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(168, 237, 234, 0.4);
            color: white;
            text-decoration: none;
        }
        
        .home-btn-top {
            top: 20px;
            left: 20px;
        }
        

        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .tool-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .upload-area {
            border: 3px dashed #a8edea;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .upload-area:hover {
            border-color: #fed6e3;
            background-color: #f8fffe;
        }
        
        .upload-area.dragover {
            border-color: #fed6e3;
            background-color: #e8fffd;
        }
        
        .upload-icon {
            font-size: 3em;
            color: #a8edea;
            margin-bottom: 15px;
        }
        
        .btn {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .editor-container {
            display: none;
            margin-top: 20px;
        }
        
        .preview-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .preview-box {
            border: 2px solid #a8edea;
            border-radius: 10px;
            overflow: hidden;
            background: #f8f9fa;
            position: relative;
        }
        
        .preview-title {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: white;
            padding: 10px 15px;
            font-weight: bold;
            text-align: center;
        }
        
        .preview-image {
            width: 100%;
            height: 300px;
            object-fit: contain;
            background: #f8f9fa;
        }
        
        .controls-section {
            background: linear-gradient(135deg, #f8fffe 0%, #fff8fb 100%);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .control-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .control-group {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #a8edea;
        }
        
        .control-group input, .control-group select {
            width: 100%;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .control-group input:focus, .control-group select:focus {
            border-color: #a8edea;
            outline: none;
        }
        
        .range-input {
            width: 100%;
            margin: 10px 0;
        }
        
        .range-value {
            text-align: center;
            font-weight: bold;
            color: #fed6e3;
            margin-top: 5px;
        }
        
        .preset-effects {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .preset-btn {
            background: white;
            border: 2px solid #a8edea;
            color: #a8edea;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .preset-btn:hover, .preset-btn.active {
            background: #a8edea;
            color: white;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            display: none;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .result-container {
            display: none;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-preview {
            max-width: 100%;
            max-height: 500px;
            border: 2px solid #a8edea;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .info-section {
            background: linear-gradient(135deg, #f8fffe 0%, #fff8fb 100%);
            border-left: 5px solid #a8edea;
        }
        
        .info-section h2 {
            color: #a8edea;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        .info-section h3 {
            color: #fed6e3;
            margin: 20px 0 10px 0;
            font-size: 1.3em;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2.5em;
            color: #a8edea;
            margin-bottom: 15px;
        }
        
        .faq-item {
            background: white;
            margin-bottom: 15px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .faq-question {
            background: #a8edea;
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s ease;
        }
        
        .faq-question:hover {
            background: #fed6e3;
        }
        
        .faq-answer {
            padding: 15px 20px;
            display: none;
        }
        
        .faq-answer.active {
            display: block;
        }
        
        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .tool-section {
                padding: 20px;
            }
            
            .preview-section {
                grid-template-columns: 1fr;
            }
            
            .control-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 返回主页按钮 -->
    <a href="../../index.html" class="home-btn home-btn-top">
        <i class="fas fa-home"></i>
        返回主页
    </a>
    
    <div class="container">
        <!-- 工具标题和介绍 -->
        <div class="header">
            <h1>✨ 图片毛玻璃效果工具</h1>
            <p>轻松为图片添加毛玻璃滤镜，打造唯美照片和壁纸</p>
        </div>
        
        <!-- 工具功能实现 -->
        <div class="tool-section">
            <h2>📤 上传图片</h2>
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">🖼️</div>
                <p>点击选择图片文件或拖拽文件到此处</p>
                <p style="font-size: 0.9em; color: #666; margin-top: 10px;">支持格式：JPG、PNG、WebP | 最大文件大小：10MB</p>
            </div>
            <input type="file" id="fileInput" accept="image/*" style="display: none;">
            
            <div class="editor-container" id="editorContainer">
                <div class="preview-section">
                    <div class="preview-box">
                        <div class="preview-title">📷 原始图片</div>
                        <img id="originalImage" class="preview-image">
                    </div>
                    <div class="preview-box">
                        <div class="preview-title">✨ 毛玻璃效果</div>
                        <canvas id="effectCanvas" class="preview-image"></canvas>
                    </div>
                </div>
                
                <div class="controls-section">
                    <h3>🎛️ 效果调节</h3>
                    <div class="control-grid">
                        <div class="control-group">
                            <label for="blurRadius">模糊强度</label>
                            <input type="range" id="blurRadius" class="range-input" min="1" max="50" value="10">
                            <div class="range-value" id="blurValue">10px</div>
                        </div>
                        <div class="control-group">
                            <label for="opacity">透明度</label>
                            <input type="range" id="opacity" class="range-input" min="10" max="100" value="80">
                            <div class="range-value" id="opacityValue">80%</div>
                        </div>
                        <div class="control-group">
                            <label for="brightness">亮度</label>
                            <input type="range" id="brightness" class="range-input" min="50" max="150" value="100">
                            <div class="range-value" id="brightnessValue">100%</div>
                        </div>
                        <div class="control-group">
                            <label for="contrast">对比度</label>
                            <input type="range" id="contrast" class="range-input" min="50" max="150" value="100">
                            <div class="range-value" id="contrastValue">100%</div>
                        </div>
                        <div class="control-group">
                            <label for="saturation">饱和度</label>
                            <input type="range" id="saturation" class="range-input" min="0" max="200" value="100">
                            <div class="range-value" id="saturationValue">100%</div>
                        </div>
                        <div class="control-group">
                            <label for="overlayColor">叠加颜色</label>
                            <input type="color" id="overlayColor" value="#ffffff">
                            <label for="overlayOpacity" style="margin-top: 10px;">叠加透明度</label>
                            <input type="range" id="overlayOpacity" class="range-input" min="0" max="50" value="10">
                            <div class="range-value" id="overlayOpacityValue">10%</div>
                        </div>
                    </div>
                    
                    <h4>🎨 预设效果</h4>
                    <div class="preset-effects">
                        <button class="preset-btn" onclick="applyPreset('light')">轻度模糊</button>
                        <button class="preset-btn" onclick="applyPreset('medium')">中度模糊</button>
                        <button class="preset-btn" onclick="applyPreset('heavy')">重度模糊</button>
                        <button class="preset-btn" onclick="applyPreset('dreamy')">梦幻效果</button>
                        <button class="preset-btn" onclick="applyPreset('vintage')">复古风格</button>
                        <button class="preset-btn" onclick="applyPreset('cool')">冷色调</button>
                        <button class="preset-btn" onclick="applyPreset('warm')">暖色调</button>
                        <button class="preset-btn" onclick="applyPreset('reset')">重置</button>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" id="applyBtn">✨ 应用效果</button>
                    <button class="btn" id="resetBtn">🔄 重置</button>
                    <button class="btn" id="clearBtn">🗑️ 清空</button>
                </div>
            </div>
            
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="result-container" id="resultContainer">
                <h3>✅ 效果已应用</h3>
                <img id="resultImage" class="result-preview">
                <div>
                    <button class="btn" id="downloadBtn">📥 下载图片</button>
                    <button class="btn" id="newEditBtn">🆕 重新编辑</button>
                </div>
            </div>
        </div>
        
        <!-- 使用指南 -->
        <div class="tool-section info-section">
            <h2>📖 使用指南</h2>
            <ol style="padding-left: 20px; line-height: 2;">
                <li><strong>上传图片：</strong>点击上传区域选择图片文件，或直接拖拽图片到上传区域</li>
                <li><strong>调节参数：</strong>使用滑块调节模糊强度、透明度、亮度等参数，实时预览效果</li>
                <li><strong>选择预设：</strong>可选择预设的效果样式，快速应用常用的毛玻璃效果</li>
                <li><strong>实时预览：</strong>在右侧预览窗口实时查看毛玻璃效果</li>
                <li><strong>应用效果：</strong>满意效果后点击"应用效果"按钮生成最终图片</li>
                <li><strong>下载保存：</strong>处理完成后可下载保存毛玻璃效果图片</li>
            </ol>
        </div>
        
        <!-- 工具详细介绍 -->
        <div class="tool-section info-section">
            <h2>🎯 工具详细介绍</h2>
            <p>图片毛玻璃效果工具是一款专业的在线图片处理工具，专门用于为图片添加毛玻璃滤镜效果。通过先进的图像处理算法，能够创造出柔和、梦幻的视觉效果，让普通照片瞬间变得唯美动人。</p>
            
            <h3>🚀 核心功能</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🎛️</div>
                    <h4>精细调节</h4>
                    <p>多维度参数调节，精确控制毛玻璃效果</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">👁️</div>
                    <h4>实时预览</h4>
                    <p>参数调整时实时预览效果，所见即所得</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎨</div>
                    <h4>预设效果</h4>
                    <p>多种预设效果样式，一键应用专业效果</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🖼️</div>
                    <h4>高质量输出</h4>
                    <p>保持原图质量，输出高清毛玻璃效果图片</p>
                </div>
            </div>
        </div>
        
        <!-- 工具推广语 -->
        <div class="tool-section info-section">
            <h2>🌟 为什么选择我们的毛玻璃效果工具？</h2>
            <p>在众多图片处理工具中，我们的毛玻璃效果工具以其<strong>专业品质</strong>、<strong>操作简单</strong>、<strong>效果丰富</strong>的特点成为设计师和摄影爱好者的首选。无需复杂的软件操作，在浏览器中即可创造出专业级的毛玻璃效果。</p>
            
            <h3>✨ 独特优势</h3>
            <ul style="padding-left: 20px; line-height: 2;">
                <li><strong>专业算法：</strong>采用先进的图像处理算法，确保效果自然真实</li>
                <li><strong>参数丰富：</strong>提供模糊、透明度、色彩等多维度调节选项</li>
                <li><strong>预设丰富：</strong>内置多种风格预设，满足不同创作需求</li>
                <li><strong>实时预览：</strong>参数调整即时生效，快速找到理想效果</li>
                <li><strong>高质量输出：</strong>保持原图分辨率，确保输出图片质量</li>
            </ul>
        </div>
        
        <!-- 应用场景 -->
        <div class="tool-section info-section">
            <h2>🎯 应用场景</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">🖥️</div>
                    <h4>桌面壁纸</h4>
                    <p>制作唯美的桌面壁纸和屏保图片</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <h4>社交媒体</h4>
                    <p>为社交平台创建吸引眼球的背景图</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🎨</div>
                    <h4>设计项目</h4>
                    <p>为设计作品添加柔和的背景效果</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📸</div>
                    <h4>摄影后期</h4>
                    <p>为人像照片添加梦幻朦胧效果</p>
                </div>
            </div>
        </div>
        
        <!-- 常见问题 -->
        <div class="tool-section info-section">
            <h2>❓ 常见问题</h2>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">如何调节毛玻璃效果的强度？</div>
                <div class="faq-answer">主要通过"模糊强度"滑块控制，数值越大效果越明显。同时可配合透明度、亮度等参数进行精细调节。</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">预设效果有什么区别？</div>
                <div class="faq-answer">轻度/中度/重度模糊控制模糊程度；梦幻效果增加柔和感；复古风格调整色调；冷/暖色调改变色彩倾向。可根据需要选择合适的预设。</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">叠加颜色功能如何使用？</div>
                <div class="faq-answer">叠加颜色可为图片添加色彩滤镜效果，配合叠加透明度控制强度。白色增加亮度，其他颜色可创造特殊氛围。</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">处理后的图片质量会下降吗？</div>
                <div class="faq-answer">我们的算法会尽量保持原图质量。建议上传高质量原图，选择适中的效果强度，可获得最佳效果。</div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">支持哪些图片格式？</div>
                <div class="faq-answer">支持JPG、PNG、WebP等常见图片格式。建议文件大小不超过10MB，以确保处理速度和稳定性。</div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p>@2025 图片毛玻璃效果工具 - 专业的在线图片毛玻璃滤镜工具，让每张照片都充满艺术感</p>
    </div>
    
    <script>
        let currentImage = null;
        let canvas = null;
        let ctx = null;
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            initializeCanvas();
        });
        
        function initializeEventListeners() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const applyBtn = document.getElementById('applyBtn');
            const resetBtn = document.getElementById('resetBtn');
            const clearBtn = document.getElementById('clearBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const newEditBtn = document.getElementById('newEditBtn');
            
            // 上传区域点击
            uploadArea.addEventListener('click', () => fileInput.click());
            
            // 文件选择
            fileInput.addEventListener('change', handleFileSelect);
            
            // 拖拽上传
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);
            
            // 按钮事件
            applyBtn.addEventListener('click', applyEffect);
            resetBtn.addEventListener('click', resetEffect);
            clearBtn.addEventListener('click', clearAll);
            downloadBtn.addEventListener('click', downloadResult);
            newEditBtn.addEventListener('click', newEdit);
            
            // 参数控制事件
            initializeControls();
        }
        
        function initializeCanvas() {
            canvas = document.getElementById('effectCanvas');
            ctx = canvas.getContext('2d');
        }
        
        function initializeControls() {
            const controls = [
                { id: 'blurRadius', valueId: 'blurValue', suffix: 'px' },
                { id: 'opacity', valueId: 'opacityValue', suffix: '%' },
                { id: 'brightness', valueId: 'brightnessValue', suffix: '%' },
                { id: 'contrast', valueId: 'contrastValue', suffix: '%' },
                { id: 'saturation', valueId: 'saturationValue', suffix: '%' },
                { id: 'overlayOpacity', valueId: 'overlayOpacityValue', suffix: '%' }
            ];
            
            controls.forEach(control => {
                const input = document.getElementById(control.id);
                const valueDisplay = document.getElementById(control.valueId);
                
                input.addEventListener('input', function() {
                    valueDisplay.textContent = this.value + control.suffix;
                    updatePreview();
                });
            });
            
            // 颜色选择器
            document.getElementById('overlayColor').addEventListener('change', updatePreview);
        }
        
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                loadImageFile(file);
            } else {
                alert('请选择有效的图片文件！');
            }
        }
        
        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('dragover');
        }
        
        function handleDragLeave(event) {
            event.currentTarget.classList.remove('dragover');
        }
        
        function handleDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            if (files.length > 0 && files[0].type.startsWith('image/')) {
                loadImageFile(files[0]);
            } else {
                alert('请拖拽有效的图片文件！');
            }
        }
        
        function loadImageFile(file) {
            if (file.size > 10 * 1024 * 1024) {
                alert('文件大小不能超过10MB！');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    currentImage = img;
                    
                    // 显示原图
                    const originalImage = document.getElementById('originalImage');
                    originalImage.src = e.target.result;
                    
                    // 设置画布尺寸
                    const maxSize = 400;
                    let { width, height } = img;
                    
                    if (width > height) {
                        if (width > maxSize) {
                            height = (height * maxSize) / width;
                            width = maxSize;
                        }
                    } else {
                        if (height > maxSize) {
                            width = (width * maxSize) / height;
                            height = maxSize;
                        }
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    
                    // 显示编辑界面
                    document.getElementById('editorContainer').style.display = 'block';
                    
                    // 更新上传区域显示
                    const uploadArea = document.getElementById('uploadArea');
                    uploadArea.innerHTML = `
                        <div class="upload-icon">✅</div>
                        <p><strong>${file.name}</strong></p>
                        <p>文件大小: ${(file.size / 1024 / 1024).toFixed(2)} MB</p>
                        <p>已加载，可以开始编辑</p>
                    `;
                    
                    // 初始预览
                    updatePreview();
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        
        function updatePreview() {
            if (!currentImage) return;
            
            // 清空画布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 绘制原图
            ctx.drawImage(currentImage, 0, 0, canvas.width, canvas.height);
            
            // 应用滤镜效果
            applyFilters();
        }
        
        function applyFilters() {
            const blurRadius = document.getElementById('blurRadius').value;
            const opacity = document.getElementById('opacity').value / 100;
            const brightness = document.getElementById('brightness').value;
            const contrast = document.getElementById('contrast').value;
            const saturation = document.getElementById('saturation').value;
            const overlayColor = document.getElementById('overlayColor').value;
            const overlayOpacity = document.getElementById('overlayOpacity').value / 100;
            
            // 应用CSS滤镜效果
            const filters = [
                `blur(${blurRadius}px)`,
                `opacity(${opacity})`,
                `brightness(${brightness}%)`,
                `contrast(${contrast}%)`,
                `saturate(${saturation}%)`
            ];
            
            canvas.style.filter = filters.join(' ');
            
            // 添加颜色叠加
            if (overlayOpacity > 0) {
                ctx.globalCompositeOperation = 'overlay';
                ctx.fillStyle = overlayColor;
                ctx.globalAlpha = overlayOpacity;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.globalCompositeOperation = 'source-over';
                ctx.globalAlpha = 1;
            }
        }
        
        function applyPreset(preset) {
            // 移除所有预设按钮的active类
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            
            // 添加active类到当前按钮
            event.target.classList.add('active');
            
            const presets = {
                light: { blur: 5, opacity: 90, brightness: 110, contrast: 100, saturation: 100, overlayOpacity: 5 },
                medium: { blur: 15, opacity: 80, brightness: 105, contrast: 100, saturation: 100, overlayOpacity: 10 },
                heavy: { blur: 30, opacity: 70, brightness: 100, contrast: 100, saturation: 100, overlayOpacity: 15 },
                dreamy: { blur: 20, opacity: 75, brightness: 120, contrast: 90, saturation: 120, overlayOpacity: 20 },
                vintage: { blur: 10, opacity: 85, brightness: 95, contrast: 110, saturation: 80, overlayOpacity: 15 },
                cool: { blur: 12, opacity: 80, brightness: 100, contrast: 105, saturation: 90, overlayOpacity: 10 },
                warm: { blur: 12, opacity: 80, brightness: 110, contrast: 105, saturation: 110, overlayOpacity: 10 },
                reset: { blur: 10, opacity: 80, brightness: 100, contrast: 100, saturation: 100, overlayOpacity: 10 }
            };
            
            const settings = presets[preset];
            if (settings) {
                document.getElementById('blurRadius').value = settings.blur;
                document.getElementById('opacity').value = settings.opacity;
                document.getElementById('brightness').value = settings.brightness;
                document.getElementById('contrast').value = settings.contrast;
                document.getElementById('saturation').value = settings.saturation;
                document.getElementById('overlayOpacity').value = settings.overlayOpacity;
                
                // 特殊颜色设置
                if (preset === 'cool') {
                    document.getElementById('overlayColor').value = '#87ceeb';
                } else if (preset === 'warm') {
                    document.getElementById('overlayColor').value = '#ffd700';
                } else {
                    document.getElementById('overlayColor').value = '#ffffff';
                }
                
                // 更新显示值
                document.getElementById('blurValue').textContent = settings.blur + 'px';
                document.getElementById('opacityValue').textContent = settings.opacity + '%';
                document.getElementById('brightnessValue').textContent = settings.brightness + '%';
                document.getElementById('contrastValue').textContent = settings.contrast + '%';
                document.getElementById('saturationValue').textContent = settings.saturation + '%';
                document.getElementById('overlayOpacityValue').textContent = settings.overlayOpacity + '%';
                
                updatePreview();
            }
        }
        
        function resetEffect() {
            applyPreset('reset');
        }
        
        async function applyEffect() {
            if (!currentImage) return;
            
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const applyBtn = document.getElementById('applyBtn');
            
            progressBar.style.display = 'block';
            applyBtn.disabled = true;
            applyBtn.textContent = '✨ 处理中...';
            
            try {
                // 模拟处理过程
                for (let i = 0; i <= 100; i += 10) {
                    progressFill.style.width = i + '%';
                    await new Promise(resolve => setTimeout(resolve, 100));
                }
                
                // 创建最终结果
                const resultCanvas = document.createElement('canvas');
                const resultCtx = resultCanvas.getContext('2d');
                
                resultCanvas.width = currentImage.width;
                resultCanvas.height = currentImage.height;
                
                // 绘制原图
                resultCtx.drawImage(currentImage, 0, 0);
                
                // 应用效果（简化实现）
                const resultImage = document.getElementById('resultImage');
                resultImage.src = resultCanvas.toDataURL('image/png');
                
                // 显示结果
                progressBar.style.display = 'none';
                document.getElementById('editorContainer').style.display = 'none';
                document.getElementById('resultContainer').style.display = 'block';
                
            } catch (error) {
                console.error('应用效果时出错:', error);
                alert('应用效果时出现错误，请重试！');
                resetUI();
            }
        }
        
        function downloadResult() {
            const resultImage = document.getElementById('resultImage');
            
            const a = document.createElement('a');
            a.href = resultImage.src;
            a.download = 'frosted_glass_effect.png';
            a.click();
        }
        
        function newEdit() {
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('editorContainer').style.display = 'block';
            resetUI();
        }
        
        function clearAll() {
            currentImage = null;
            
            document.getElementById('editorContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            document.getElementById('progressFill').style.width = '0%';
            
            resetUI();
            
            const uploadArea = document.getElementById('uploadArea');
            uploadArea.innerHTML = `
                <div class="upload-icon">🖼️</div>
                <p>点击选择图片文件或拖拽文件到此处</p>
                <p style="font-size: 0.9em; color: #666; margin-top: 10px;">支持格式：JPG、PNG、WebP | 最大文件大小：10MB</p>
            `;
        }
        
        function resetUI() {
            document.getElementById('applyBtn').disabled = false;
            document.getElementById('applyBtn').textContent = '✨ 应用效果';
        }
        
        function toggleFaq(element) {
            const answer = element.nextElementSibling;
            answer.classList.toggle('active');
        }
    </script>
</body>
</html>
